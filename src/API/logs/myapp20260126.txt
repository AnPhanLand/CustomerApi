2026-01-26 08:52:18.752 +07:00 [INF] Starting the API...
2026-01-26 08:52:27.091 +07:00 [INF] The application failed to start correctly.
2026-01-26 08:55:51.309 +07:00 [INF] Starting the API...
2026-01-26 08:55:59.656 +07:00 [INF] The application failed to start correctly.
2026-01-26 09:18:44.542 +07:00 [INF] Starting the API...
2026-01-26 09:18:44.870 +07:00 [INF] The application failed to start correctly.
2026-01-26 09:21:16.445 +07:00 [INF] Starting the API...
2026-01-26 09:21:16.747 +07:00 [FTL] The application failed to start correctly.
System.InvalidOperationException: Unable to find the required services. Please add all the required services by calling 'IServiceCollection.AddAuthorization' in the application startup code.
   at Microsoft.AspNetCore.Builder.AuthorizationAppBuilderExtensions.VerifyServicesRegistered(IApplicationBuilder app)
   at Microsoft.AspNetCore.Builder.AuthorizationAppBuilderExtensions.UseAuthorization(IApplicationBuilder app)
   at Program.<Main>$(String[] args) in C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API\Endpoints\Program.cs:line 30
2026-01-26 09:23:48.622 +07:00 [INF] Starting the API...
2026-01-26 09:23:49.921 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 09:23:50.177 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 09:23:50.953 +07:00 [DBG] Hosting starting
2026-01-26 09:23:50.975 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 09:23:50.981 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 09:23:50.991 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 09:23:51.001 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 09:23:51.002 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 09:23:51.003 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 09:23:51.005 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 09:23:51.007 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 09:23:51.008 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 09:23:51.008 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 09:23:51.009 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 09:23:51.011 +07:00 [DBG] Middleware loaded
2026-01-26 09:23:51.013 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 09:23:51.014 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 09:23:51.126 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 09:23:51.127 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 09:23:51.127 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 09:23:51.138 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 09:23:51.138 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 09:23:51.139 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 09:23:51.143 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 09:23:51.143 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 09:23:51.143 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 09:23:51.143 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 09:23:51.143 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 09:23:51.144 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 09:23:51.160 +07:00 [DBG] Execution loop BackgroundServerProcess:720e3c90 has started in 5.3056 ms
2026-01-26 09:23:51.361 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 09:23:51.361 +07:00 [INF] Hosting environment: Development
2026-01-26 09:23:51.361 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 09:23:51.361 +07:00 [DBG] Hosting started
2026-01-26 09:23:51.538 +07:00 [DBG] Connection id "0HNISG7P1FMHI" accepted.
2026-01-26 09:23:51.538 +07:00 [DBG] Connection id "0HNISG7P1FMHI" started.
2026-01-26 09:23:51.552 +07:00 [INF] Server desktop-l31jdro:26816:0295f249 successfully announced in 189.8761 ms
2026-01-26 09:23:51.555 +07:00 [DBG] Execution loop ServerHeartbeatProcess:c6c7b295 has started in 1.8379 ms
2026-01-26 09:23:51.555 +07:00 [INF] Server desktop-l31jdro:26816:0295f249 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 09:23:51.556 +07:00 [DBG] Execution loop ServerWatchdog:cebc24b8 has started in 0.8146 ms
2026-01-26 09:23:51.557 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:32902d61 has started in 0.6689 ms
2026-01-26 09:23:51.558 +07:00 [DBG] Execution loop ExpirationManager:a1f68f69 has started in 0.9356 ms
2026-01-26 09:23:51.559 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 09:23:51.559 +07:00 [DBG] Execution loop CountersAggregator:fa271888 has started in 1.1513 ms
2026-01-26 09:23:51.560 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 09:23:51.561 +07:00 [DBG] Execution loop Worker:a601bc29 has started in 1.228 ms
2026-01-26 09:23:51.563 +07:00 [DBG] Execution loop Worker:7342117d has started in 3.7986 ms
2026-01-26 09:23:51.564 +07:00 [DBG] Execution loop Worker:0018665c has started in 4.9441 ms
2026-01-26 09:23:51.565 +07:00 [DBG] Execution loop Worker:fd368e61 has started in 5.9179 ms
2026-01-26 09:23:51.566 +07:00 [DBG] Execution loop Worker:0e031075 has started in 6.7648 ms
2026-01-26 09:23:51.567 +07:00 [DBG] Execution loop Worker:87bafd25 has started in 7.4887 ms
2026-01-26 09:23:51.571 +07:00 [DBG] Execution loop Worker:6b62ec2f has started in 11.354 ms
2026-01-26 09:23:51.573 +07:00 [DBG] Execution loop Worker:f77900d6 has started in 13.488 ms
2026-01-26 09:23:51.575 +07:00 [DBG] Execution loop Worker:17b23965 has started in 15.7854 ms
2026-01-26 09:23:51.576 +07:00 [DBG] Execution loop Worker:d70fa1c5 has started in 16.8784 ms
2026-01-26 09:23:51.578 +07:00 [DBG] Execution loop Worker:1c7ec23b has started in 18.6824 ms
2026-01-26 09:23:51.579 +07:00 [DBG] Execution loop Worker:924e3fa9 has started in 19.9705 ms
2026-01-26 09:23:51.578 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 09:23:51.581 +07:00 [DBG] Execution loop Worker:3e54c0ab has started in 22.0902 ms
2026-01-26 09:23:51.583 +07:00 [DBG] Execution loop Worker:7763b4ea has started in 23.4339 ms
2026-01-26 09:23:51.585 +07:00 [DBG] Execution loop Worker:0b1ef088 has started in 25.4705 ms
2026-01-26 09:23:51.586 +07:00 [DBG] Execution loop Worker:418747ae has started in 26.7133 ms
2026-01-26 09:23:51.588 +07:00 [DBG] Execution loop Worker:2c438031 has started in 29.0272 ms
2026-01-26 09:23:51.591 +07:00 [DBG] Execution loop Worker:01363784 has started in 31.1811 ms
2026-01-26 09:23:51.594 +07:00 [DBG] Execution loop Worker:b8a48c92 has started in 34.9256 ms
2026-01-26 09:23:51.596 +07:00 [DBG] Execution loop Worker:a899cb0e has started in 36.6796 ms
2026-01-26 09:23:51.597 +07:00 [DBG] Execution loop DelayedJobScheduler:eb5727fd has started in 1.4614 ms
2026-01-26 09:23:51.599 +07:00 [DBG] Execution loop RecurringJobScheduler:077b6a18 has started in 1.2122 ms
2026-01-26 09:23:51.599 +07:00 [INF] Server desktop-l31jdro:26816:0295f249 all the dispatchers started
2026-01-26 09:23:51.646 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 09:23:51.647 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:23:51.720 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 09:23:51.737 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 09:23:51.744 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 09:23:51.750 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 09:23:51.756 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 09:23:51.936 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:23:51.940 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 09:23:51.954 +07:00 [DBG] Connection id "0HNISG7P1FMHI" completed keep alive response.
2026-01-26 09:23:51.955 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 378.7782ms
2026-01-26 09:23:51.957 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 09:23:52.014 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-01-26 09:23:52.015 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-01-26 09:23:52.015 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:23:52.017 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:23:52.017 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 09:23:52.018 +07:00 [DBG] Connection id "0HNISG7P1FMHI" completed keep alive response.
2026-01-26 09:23:52.018 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 404 0 null 4.1099ms
2026-01-26 09:23:52.018 +07:00 [DBG] Connection id "0HNISG7P1FMHI" received FIN.
2026-01-26 09:23:52.019 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 404
2026-01-26 09:23:52.019 +07:00 [DBG] Connection id "0HNISG7P1FMHI" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:23:52.020 +07:00 [DBG] Connection id "0HNISG7P1FMHI" disconnecting.
2026-01-26 09:23:52.021 +07:00 [DBG] Connection id "0HNISG7P1FMHI" stopped.
2026-01-26 09:24:00.362 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" accepted.
2026-01-26 09:24:00.362 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" started.
2026-01-26 09:24:00.364 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 09:24:00.365 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 09:24:00.365 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.369 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.373 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" completed keep alive response.
2026-01-26 09:24:00.373 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 9.4137ms
2026-01-26 09:24:00.440 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 09:24:00.440 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 09:24:00.440 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.440 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.455 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 09:24:00.460 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 09:24:00.460 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" completed keep alive response.
2026-01-26 09:24:00.460 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 20.7064ms
2026-01-26 09:24:00.502 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - null null
2026-01-26 09:24:00.502 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2026-01-26 09:24:00.502 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.502 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.504 +07:00 [DBG] Connection id "0HNISG7P1FMHK" accepted.
2026-01-26 09:24:00.504 +07:00 [DBG] Connection id "0HNISG7P1FMHK" started.
2026-01-26 09:24:00.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.css - null null
2026-01-26 09:24:00.504 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2026-01-26 09:24:00.504 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.504 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.505 +07:00 [DBG] Connection id "0HNISG7P1FMHL" accepted.
2026-01-26 09:24:00.505 +07:00 [DBG] Connection id "0HNISG7P1FMHL" started.
2026-01-26 09:24:00.506 +07:00 [DBG] Connection id "0HNISG7P1FMHM" accepted.
2026-01-26 09:24:00.506 +07:00 [DBG] Connection id "0HNISG7P1FMHM" started.
2026-01-26 09:24:00.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - null null
2026-01-26 09:24:00.506 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2026-01-26 09:24:00.506 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.506 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.506 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - null null
2026-01-26 09:24:00.507 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2026-01-26 09:24:00.507 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.507 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.507 +07:00 [DBG] Connection id "0HNISG7P1FMHN" accepted.
2026-01-26 09:24:00.508 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2026-01-26 09:24:00.508 +07:00 [DBG] Connection id "0HNISG7P1FMHK" completed keep alive response.
2026-01-26 09:24:00.508 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.css - 200 218 text/css 4.103ms
2026-01-26 09:24:00.508 +07:00 [DBG] Connection id "0HNISG7P1FMHN" started.
2026-01-26 09:24:00.509 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 09:24:00.512 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 09:24:00.512 +07:00 [DBG] Connection id "0HNISG7P1FMHN" completed keep alive response.
2026-01-26 09:24:00.512 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 3.6936ms
2026-01-26 09:24:00.519 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2026-01-26 09:24:00.519 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-01-26 09:24:00.523 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" completed keep alive response.
2026-01-26 09:24:00.523 +07:00 [DBG] Connection id "0HNISG7P1FMHM" completed keep alive response.
2026-01-26 09:24:00.524 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - 200 154988 text/css 21.637ms
2026-01-26 09:24:00.524 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - 200 229224 text/javascript 17.1245ms
2026-01-26 09:24:00.532 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-01-26 09:24:00.532 +07:00 [DBG] Connection id "0HNISG7P1FMHL" completed keep alive response.
2026-01-26 09:24:00.533 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - 200 1468327 text/javascript 26.3176ms
2026-01-26 09:24:00.788 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 09:24:00.788 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 09:24:00.788 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.788 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.797 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 09:24:00.800 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 09:24:00.897 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - null null
2026-01-26 09:24:00.897 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2026-01-26 09:24:00.897 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:24:00.897 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:00.897 +07:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2026-01-26 09:24:00.897 +07:00 [DBG] Connection id "0HNISG7P1FMHM" completed keep alive response.
2026-01-26 09:24:00.897 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - 200 665 image/png 0.5487ms
2026-01-26 09:24:01.123 +07:00 [DBG] Connection id "0HNISG7P1FMHL" completed keep alive response.
2026-01-26 09:24:01.124 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 335.5125ms
2026-01-26 09:24:21.586 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:24:40.038 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 79
2026-01-26 09:24:40.040 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 09:24:40.041 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 09:24:40.042 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 09:24:40.042 +07:00 [INF] CORS policy execution failed.
2026-01-26 09:24:40.042 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 09:24:40.042 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:24:40.042 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 09:24:40.043 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 09:24:40.049 +07:00 [DBG] Connection id "0HNISG7P1FMHL", Request id "0HNISG7P1FMHL:00000003": started reading request body.
2026-01-26 09:24:40.049 +07:00 [DBG] Connection id "0HNISG7P1FMHL", Request id "0HNISG7P1FMHL:00000003": done reading request body.
2026-01-26 09:24:40.126 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 09:24:40.197 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 09:24:40.197 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__0>d.MoveNext() in C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API\Endpoints\Program.cs:line 53
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-26 09:24:40.214 +07:00 [DBG] Connection id "0HNISG7P1FMHL" completed keep alive response.
2026-01-26 09:24:40.216 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 500 null text/plain; charset=utf-8 177.6804ms
2026-01-26 09:24:51.604 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:25:21.609 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:25:51.614 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:25:55.889 +07:00 [DBG] Connection id "0HNISG7P1FMHN" received FIN.
2026-01-26 09:25:55.889 +07:00 [DBG] Connection id "0HNISG7P1FMHK" received FIN.
2026-01-26 09:25:55.890 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" received FIN.
2026-01-26 09:25:55.890 +07:00 [DBG] Connection id "0HNISG7P1FMHN" disconnecting.
2026-01-26 09:25:55.890 +07:00 [DBG] Connection id "0HNISG7P1FMHN" stopped.
2026-01-26 09:25:55.890 +07:00 [DBG] Connection id "0HNISG7P1FMHK" disconnecting.
2026-01-26 09:25:55.890 +07:00 [DBG] Connection id "0HNISG7P1FMHK" stopped.
2026-01-26 09:25:55.891 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" disconnecting.
2026-01-26 09:25:55.891 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" stopped.
2026-01-26 09:25:55.891 +07:00 [DBG] Connection id "0HNISG7P1FMHK" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:25:55.891 +07:00 [DBG] Connection id "0HNISG7P1FMHJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:25:55.892 +07:00 [DBG] Connection id "0HNISG7P1FMHN" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:25:56.903 +07:00 [DBG] Connection id "0HNISG7P1FMHM" received FIN.
2026-01-26 09:25:56.903 +07:00 [DBG] Connection id "0HNISG7P1FMHM" disconnecting.
2026-01-26 09:25:56.903 +07:00 [DBG] Connection id "0HNISG7P1FMHM" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:25:56.918 +07:00 [DBG] Connection id "0HNISG7P1FMHM" stopped.
2026-01-26 09:25:58.741 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 09:25:58.741 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 09:25:58.741 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 09:25:58.741 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 09:25:58.741 +07:00 [INF] CORS policy execution failed.
2026-01-26 09:25:58.741 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 09:25:58.741 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:25:58.741 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 09:25:58.741 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 09:25:58.742 +07:00 [DBG] Connection id "0HNISG7P1FMHL", Request id "0HNISG7P1FMHL:00000004": started reading request body.
2026-01-26 09:25:58.742 +07:00 [DBG] Connection id "0HNISG7P1FMHL", Request id "0HNISG7P1FMHL:00000004": done reading request body.
2026-01-26 09:25:58.750 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 09:25:58.750 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__0>d.MoveNext() in C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API\Endpoints\Program.cs:line 53
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-26 09:25:58.751 +07:00 [DBG] Connection id "0HNISG7P1FMHL" completed keep alive response.
2026-01-26 09:25:58.751 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 500 null text/plain; charset=utf-8 9.9181ms
2026-01-26 09:26:21.636 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:26:51.665 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:27:21.675 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:27:51.703 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:27:54.531 +07:00 [DBG] Connection id "0HNISG7P1FMHL" received FIN.
2026-01-26 09:27:54.531 +07:00 [DBG] Connection id "0HNISG7P1FMHL" disconnecting.
2026-01-26 09:27:54.531 +07:00 [DBG] Connection id "0HNISG7P1FMHL" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:27:54.546 +07:00 [DBG] Connection id "0HNISG7P1FMHL" stopped.
2026-01-26 09:28:21.724 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:28:51.702 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 09:28:51.737 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:29:21.765 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:29:51.773 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:30:21.794 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:30:51.815 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:31:21.843 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:31:51.871 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:32:21.901 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:32:51.915 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:33:21.944 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:33:51.709 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 09:33:52.019 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:34:22.029 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:34:52.032 +07:00 [DBG] Server desktop-l31jdro:26816:0295f249 heartbeat successfully sent
2026-01-26 09:52:17.811 +07:00 [INF] Starting the API...
2026-01-26 09:52:18.306 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 09:52:18.372 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 09:52:18.422 +07:00 [DBG] Hosting starting
2026-01-26 09:52:18.439 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 09:52:18.444 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 09:52:18.450 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 09:52:18.456 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 09:52:18.458 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 09:52:18.459 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 09:52:18.459 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 09:52:18.461 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 09:52:18.462 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 09:52:18.463 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 09:52:18.463 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 09:52:18.466 +07:00 [DBG] Middleware loaded
2026-01-26 09:52:18.467 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 09:52:18.470 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 09:52:18.541 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 09:52:18.541 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 09:52:18.542 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 09:52:18.550 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 09:52:18.550 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 09:52:18.550 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 09:52:18.554 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 09:52:18.554 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 09:52:18.555 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 09:52:18.555 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 09:52:18.555 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 09:52:18.555 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 09:52:18.563 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 09:52:18.563 +07:00 [INF] Hosting environment: Development
2026-01-26 09:52:18.563 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 09:52:18.563 +07:00 [DBG] Hosting started
2026-01-26 09:52:18.570 +07:00 [DBG] Execution loop BackgroundServerProcess:2929bbbc has started in 3.2945 ms
2026-01-26 09:52:18.672 +07:00 [INF] Server desktop-l31jdro:3076:2cff4b0e successfully announced in 99.0697 ms
2026-01-26 09:52:18.676 +07:00 [DBG] Execution loop ServerHeartbeatProcess:e32ade4c has started in 2.5379 ms
2026-01-26 09:52:18.677 +07:00 [INF] Server desktop-l31jdro:3076:2cff4b0e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 09:52:18.679 +07:00 [DBG] Execution loop ServerWatchdog:19875c67 has started in 1.6999 ms
2026-01-26 09:52:18.682 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:b422a219 has started in 2.4915 ms
2026-01-26 09:52:18.683 +07:00 [DBG] Execution loop ExpirationManager:e91d36b9 has started in 1.5768 ms
2026-01-26 09:52:18.685 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 09:52:18.685 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 09:52:18.685 +07:00 [DBG] Execution loop CountersAggregator:3cfd7093 has started in 1.4443 ms
2026-01-26 09:52:18.685 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 09:52:18.687 +07:00 [DBG] Execution loop Worker:965e4a45 has started in 1.6309 ms
2026-01-26 09:52:18.691 +07:00 [DBG] Execution loop Worker:82e83c9c has started in 5.6959 ms
2026-01-26 09:52:18.692 +07:00 [DBG] Execution loop Worker:84634c5a has started in 6.8762 ms
2026-01-26 09:52:18.693 +07:00 [DBG] Execution loop Worker:f4aaea73 has started in 7.9017 ms
2026-01-26 09:52:18.694 +07:00 [DBG] Execution loop Worker:fdd3eab1 has started in 9.0096 ms
2026-01-26 09:52:18.695 +07:00 [DBG] Execution loop Worker:e8d20431 has started in 10.4419 ms
2026-01-26 09:52:18.699 +07:00 [DBG] Execution loop Worker:0a6c2889 has started in 13.9384 ms
2026-01-26 09:52:18.707 +07:00 [DBG] Execution loop Worker:90c64275 has started in 21.4166 ms
2026-01-26 09:52:18.708 +07:00 [DBG] Execution loop Worker:88ad321e has started in 23.2533 ms
2026-01-26 09:52:18.714 +07:00 [DBG] Execution loop Worker:8fe0d5df has started in 29.0279 ms
2026-01-26 09:52:18.718 +07:00 [DBG] Execution loop Worker:644f6cbe has started in 32.8743 ms
2026-01-26 09:52:18.722 +07:00 [DBG] Execution loop Worker:4d9ed0eb has started in 37.3024 ms
2026-01-26 09:52:18.724 +07:00 [DBG] Execution loop Worker:8f5455e2 has started in 38.8018 ms
2026-01-26 09:52:18.729 +07:00 [DBG] Execution loop Worker:ddfea0f2 has started in 43.4666 ms
2026-01-26 09:52:18.736 +07:00 [DBG] Execution loop Worker:59111ca6 has started in 51.242 ms
2026-01-26 09:52:18.740 +07:00 [DBG] Execution loop Worker:52eb611b has started in 54.5439 ms
2026-01-26 09:52:18.741 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 09:52:18.754 +07:00 [DBG] Execution loop Worker:8ba51845 has started in 69.4066 ms
2026-01-26 09:52:18.767 +07:00 [DBG] Execution loop Worker:6bbecddc has started in 81.6684 ms
2026-01-26 09:52:18.770 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 09:52:18.773 +07:00 [DBG] Execution loop Worker:2dc0fd01 has started in 88.3815 ms
2026-01-26 09:52:18.780 +07:00 [DBG] Execution loop Worker:6c03c1ba has started in 95.0403 ms
2026-01-26 09:52:18.785 +07:00 [DBG] Execution loop DelayedJobScheduler:dc32abbd has started in 4.5247 ms
2026-01-26 09:52:18.793 +07:00 [DBG] Execution loop RecurringJobScheduler:248968b0 has started in 8.1869 ms
2026-01-26 09:52:18.793 +07:00 [INF] Server desktop-l31jdro:3076:2cff4b0e all the dispatchers started
2026-01-26 09:52:18.828 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 09:52:18.840 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 09:52:18.849 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 09:52:18.888 +07:00 [DBG] Connection id "0HNISGNLS1LBT" accepted.
2026-01-26 09:52:18.889 +07:00 [DBG] Connection id "0HNISGNLS1LBT" started.
2026-01-26 09:52:18.922 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 09:52:18.959 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 09:52:18.960 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:52:18.991 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:52:18.994 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 09:52:18.996 +07:00 [DBG] Connection id "0HNISGNLS1LBT" completed keep alive response.
2026-01-26 09:52:18.997 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 75.7705ms
2026-01-26 09:52:18.999 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 09:52:19.055 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-01-26 09:52:19.056 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-01-26 09:52:19.056 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:52:19.057 +07:00 [DBG] Connection id "0HNISGNLS1LBT" received FIN.
2026-01-26 09:52:19.057 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:52:19.058 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 09:52:19.058 +07:00 [DBG] Connection id "0HNISGNLS1LBT" completed keep alive response.
2026-01-26 09:52:19.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 404 0 null 3.0618ms
2026-01-26 09:52:19.059 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 404
2026-01-26 09:52:19.059 +07:00 [DBG] Connection id "0HNISGNLS1LBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:52:19.060 +07:00 [DBG] Connection id "0HNISGNLS1LBT" disconnecting.
2026-01-26 09:52:19.061 +07:00 [DBG] Connection id "0HNISGNLS1LBT" stopped.
2026-01-26 09:52:24.091 +07:00 [DBG] Connection id "0HNISGNLS1LBU" accepted.
2026-01-26 09:52:24.091 +07:00 [DBG] Connection id "0HNISGNLS1LBU" started.
2026-01-26 09:52:24.091 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 09:52:24.093 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 09:52:24.093 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:52:24.095 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:52:24.099 +07:00 [DBG] Connection id "0HNISGNLS1LBU" completed keep alive response.
2026-01-26 09:52:24.099 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 7.3108ms
2026-01-26 09:52:24.138 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 09:52:24.138 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 09:52:24.138 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:52:24.138 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:52:24.151 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 09:52:24.156 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 09:52:24.156 +07:00 [DBG] Connection id "0HNISGNLS1LBU" completed keep alive response.
2026-01-26 09:52:24.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 18.7591ms
2026-01-26 09:52:24.206 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 09:52:24.207 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 09:52:24.207 +07:00 [DBG] Connection id "0HNISGNLS1LBU" completed keep alive response.
2026-01-26 09:52:24.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 1.6527ms
2026-01-26 09:52:24.415 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 09:52:24.415 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 09:52:24.415 +07:00 [DBG] Request did not match any endpoints
2026-01-26 09:52:24.415 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:52:24.418 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 09:52:24.421 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 09:52:24.773 +07:00 [DBG] Connection id "0HNISGNLS1LBU" completed keep alive response.
2026-01-26 09:52:24.773 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 357.9399ms
2026-01-26 09:52:35.435 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 09:52:35.437 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 09:52:35.438 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 09:52:35.439 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 09:52:35.439 +07:00 [INF] CORS policy execution failed.
2026-01-26 09:52:35.439 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 09:52:35.439 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 09:52:35.440 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 09:52:35.440 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 09:52:35.443 +07:00 [DBG] Connection id "0HNISGNLS1LBU", Request id "0HNISGNLS1LBU:00000005": started reading request body.
2026-01-26 09:52:35.443 +07:00 [DBG] Connection id "0HNISGNLS1LBU", Request id "0HNISGNLS1LBU:00000005": done reading request body.
2026-01-26 09:52:35.460 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 09:52:35.460 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'CustomerApi.Domain.ValueObjects.EmailAddress'. Path: $.email | LineNumber: 1 | BytePositionInLine: 12.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'CustomerApi.Domain.ValueObjects.EmailAddress'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)
   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize[TReadBufferState,TStream](TReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, T& value)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync[TReadBufferState,TStream](TStream utf8Json, TReadBufferState bufferState, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(PipeReader utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2026-01-26 09:52:35.477 +07:00 [DBG] Connection id "0HNISGNLS1LBU" completed keep alive response.
2026-01-26 09:52:35.477 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 500 null text/plain; charset=utf-8 41.9881ms
2026-01-26 09:52:48.709 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:53:18.728 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:53:48.743 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:54:18.758 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:54:33.398 +07:00 [DBG] Connection id "0HNISGNLS1LBU" received FIN.
2026-01-26 09:54:33.399 +07:00 [DBG] Connection id "0HNISGNLS1LBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 09:54:33.399 +07:00 [DBG] Connection id "0HNISGNLS1LBU" disconnecting.
2026-01-26 09:54:33.413 +07:00 [DBG] Connection id "0HNISGNLS1LBU" stopped.
2026-01-26 09:54:48.776 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:55:18.804 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:55:48.826 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:56:18.840 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:56:48.865 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:57:18.819 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 09:57:18.894 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:57:48.913 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:58:18.930 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:58:48.950 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:59:18.981 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 09:59:49.010 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:00:19.038 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:00:49.062 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:01:19.079 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:01:49.087 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:02:18.823 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:02:19.172 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:02:49.192 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:03:19.222 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:03:49.251 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:04:19.267 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:04:49.292 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:05:19.315 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:05:49.332 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:06:19.343 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:06:49.368 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:07:18.830 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:07:19.379 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:07:49.394 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:08:19.412 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:08:49.417 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:09:19.445 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:09:49.465 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:10:19.491 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:10:49.520 +07:00 [DBG] Server desktop-l31jdro:3076:2cff4b0e heartbeat successfully sent
2026-01-26 10:11:23.785 +07:00 [INF] Starting the API...
2026-01-26 10:11:24.271 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 10:11:24.337 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 10:11:24.386 +07:00 [DBG] Hosting starting
2026-01-26 10:11:24.402 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 10:11:24.407 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 10:11:24.413 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 10:11:24.420 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 10:11:24.421 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 10:11:24.422 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 10:11:24.423 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 10:11:24.424 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 10:11:24.426 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 10:11:24.426 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 10:11:24.426 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 10:11:24.429 +07:00 [DBG] Middleware loaded
2026-01-26 10:11:24.430 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 10:11:24.433 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 10:11:24.504 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 10:11:24.505 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 10:11:24.505 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 10:11:24.513 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 10:11:24.513 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 10:11:24.513 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 10:11:24.517 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 10:11:24.517 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 10:11:24.518 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 10:11:24.518 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 10:11:24.518 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 10:11:24.518 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 10:11:24.527 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 10:11:24.527 +07:00 [INF] Hosting environment: Development
2026-01-26 10:11:24.527 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 10:11:24.527 +07:00 [DBG] Hosting started
2026-01-26 10:11:24.533 +07:00 [DBG] Execution loop BackgroundServerProcess:80afb6fb has started in 3.3474 ms
2026-01-26 10:11:24.655 +07:00 [INF] Server desktop-l31jdro:28508:afa26488 successfully announced in 119.4025 ms
2026-01-26 10:11:24.658 +07:00 [DBG] Execution loop ServerHeartbeatProcess:a0315e2e has started in 2.0132 ms
2026-01-26 10:11:24.659 +07:00 [INF] Server desktop-l31jdro:28508:afa26488 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 10:11:24.661 +07:00 [DBG] Execution loop ServerWatchdog:7ced4e51 has started in 2.4641 ms
2026-01-26 10:11:24.663 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:b7c0d1e6 has started in 1.3998 ms
2026-01-26 10:11:24.667 +07:00 [DBG] Execution loop ExpirationManager:a17c73da has started in 2.962 ms
2026-01-26 10:11:24.669 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 10:11:24.669 +07:00 [DBG] Execution loop CountersAggregator:de1fe8bc has started in 2.7055 ms
2026-01-26 10:11:24.670 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:11:24.671 +07:00 [DBG] Execution loop Worker:6c7460c4 has started in 2.3732 ms
2026-01-26 10:11:24.673 +07:00 [DBG] Execution loop Worker:32dc544f has started in 4.0746 ms
2026-01-26 10:11:24.674 +07:00 [DBG] Execution loop Worker:acabd4c3 has started in 5.2433 ms
2026-01-26 10:11:24.675 +07:00 [DBG] Execution loop Worker:ad6ee546 has started in 6.4127 ms
2026-01-26 10:11:24.677 +07:00 [DBG] Execution loop Worker:b2e2cc49 has started in 7.5817 ms
2026-01-26 10:11:24.678 +07:00 [DBG] Execution loop Worker:f40dd487 has started in 8.4756 ms
2026-01-26 10:11:24.679 +07:00 [DBG] Execution loop Worker:641e9071 has started in 9.505 ms
2026-01-26 10:11:24.680 +07:00 [DBG] Execution loop Worker:11957793 has started in 10.9456 ms
2026-01-26 10:11:24.689 +07:00 [DBG] Execution loop Worker:26a74219 has started in 19.96 ms
2026-01-26 10:11:24.773 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 10:11:24.774 +07:00 [DBG] Execution loop Worker:646d7eef has started in 104.8817 ms
2026-01-26 10:11:24.779 +07:00 [DBG] Execution loop Worker:5296eb2f has started in 109.9509 ms
2026-01-26 10:11:24.789 +07:00 [DBG] Execution loop Worker:9cdd60be has started in 119.9407 ms
2026-01-26 10:11:24.806 +07:00 [DBG] Execution loop Worker:e53ebc25 has started in 136.5516 ms
2026-01-26 10:11:24.810 +07:00 [DBG] Execution loop Worker:a7ff797f has started in 140.5518 ms
2026-01-26 10:11:24.813 +07:00 [DBG] Execution loop Worker:e526b0df has started in 143.6162 ms
2026-01-26 10:11:24.814 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 10:11:24.816 +07:00 [DBG] Execution loop Worker:9190e6e2 has started in 146.4412 ms
2026-01-26 10:11:24.818 +07:00 [DBG] Execution loop Worker:99e14f4c has started in 148.8134 ms
2026-01-26 10:11:24.821 +07:00 [DBG] Execution loop Worker:0d55f6fb has started in 151.5582 ms
2026-01-26 10:11:24.825 +07:00 [DBG] Execution loop Worker:0d5eff60 has started in 155.5253 ms
2026-01-26 10:11:24.826 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 10:11:24.827 +07:00 [DBG] Execution loop Worker:d37d2278 has started in 157.5613 ms
2026-01-26 10:11:24.829 +07:00 [DBG] Execution loop DelayedJobScheduler:5353e1d2 has started in 1.9584 ms
2026-01-26 10:11:24.831 +07:00 [DBG] Execution loop RecurringJobScheduler:d30f9bad has started in 2.2686 ms
2026-01-26 10:11:24.831 +07:00 [INF] Server desktop-l31jdro:28508:afa26488 all the dispatchers started
2026-01-26 10:11:24.837 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 10:11:24.848 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 10:11:24.879 +07:00 [DBG] Connection id "0HNISH2BD2CVK" accepted.
2026-01-26 10:11:24.882 +07:00 [DBG] Connection id "0HNISH2BD2CVK" started.
2026-01-26 10:11:24.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 10:11:24.972 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 10:11:24.973 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:11:24.995 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:11:24.999 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 10:11:25.001 +07:00 [DBG] Connection id "0HNISH2BD2CVK" completed keep alive response.
2026-01-26 10:11:25.002 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 64.8549ms
2026-01-26 10:11:25.004 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 10:11:25.050 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-01-26 10:11:25.051 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-01-26 10:11:25.051 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:11:25.053 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:11:25.054 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 10:11:25.054 +07:00 [DBG] Connection id "0HNISH2BD2CVK" completed keep alive response.
2026-01-26 10:11:25.054 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 404 0 null 4.0791ms
2026-01-26 10:11:25.055 +07:00 [DBG] Connection id "0HNISH2BD2CVK" reset.
2026-01-26 10:11:25.055 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 404
2026-01-26 10:11:25.055 +07:00 [DBG] Connection id "0HNISH2BD2CVK" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 10:11:25.055 +07:00 [DBG] Connection id "0HNISH2BD2CVK" disconnecting.
2026-01-26 10:11:25.058 +07:00 [DBG] Connection id "0HNISH2BD2CVK" stopped.
2026-01-26 10:11:29.366 +07:00 [DBG] Connection id "0HNISH2BD2CVL" accepted.
2026-01-26 10:11:29.366 +07:00 [DBG] Connection id "0HNISH2BD2CVL" started.
2026-01-26 10:11:29.366 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 10:11:29.369 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 10:11:29.369 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:11:29.371 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:11:29.374 +07:00 [DBG] Connection id "0HNISH2BD2CVL" completed keep alive response.
2026-01-26 10:11:29.374 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 7.3604ms
2026-01-26 10:11:29.413 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 10:11:29.413 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 10:11:29.413 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:11:29.413 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:11:29.426 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 10:11:29.431 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 10:11:29.431 +07:00 [DBG] Connection id "0HNISH2BD2CVL" completed keep alive response.
2026-01-26 10:11:29.431 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 18.2836ms
2026-01-26 10:11:29.471 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 10:11:29.473 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 10:11:29.473 +07:00 [DBG] Connection id "0HNISH2BD2CVL" completed keep alive response.
2026-01-26 10:11:29.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 2.2774ms
2026-01-26 10:11:29.758 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 10:11:29.758 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 10:11:29.758 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:11:29.758 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:11:29.760 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 10:11:29.762 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 10:11:30.101 +07:00 [DBG] Connection id "0HNISH2BD2CVL" completed keep alive response.
2026-01-26 10:11:30.101 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 343.3779ms
2026-01-26 10:11:34.187 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 10:11:34.190 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 10:11:34.190 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 10:11:34.191 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 10:11:34.192 +07:00 [INF] CORS policy execution failed.
2026-01-26 10:11:34.192 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 10:11:34.192 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:11:34.193 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:11:34.193 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 10:11:34.197 +07:00 [DBG] Connection id "0HNISH2BD2CVL", Request id "0HNISH2BD2CVL:00000005": started reading request body.
2026-01-26 10:11:34.197 +07:00 [DBG] Connection id "0HNISH2BD2CVL", Request id "0HNISH2BD2CVL:00000005": done reading request body.
2026-01-26 10:11:34.204 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 10:11:34.273 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 10:11:34.788 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 10:11:34.788 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 10:11:34.882 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 10:11:34.936 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 10:11:34.972 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 10:11:34.972 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 10:11:35.176 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 10:11:35.205 +07:00 [DBG] Creating DbConnection.
2026-01-26 10:11:35.208 +07:00 [DBG] Created DbConnection. (2ms).
2026-01-26 10:11:35.210 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.212 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.214 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:11:35.217 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:11:35.218 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-26 10:11:35.223 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 10:11:35.240 +07:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 10:11:35.243 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.247 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-01-26 10:11:35.261 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb'.
Npgsql.PostgresException (0x80004005): 42P01: relation "Customers" does not exist

POSITION: 184
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Customers" does not exist
    Position: 184
    File: parse_relation.c
    Line: 1466
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "Customers" does not exist

POSITION: 184
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Customers" does not exist
    Position: 184
    File: parse_relation.c
    Line: 1466
    Routine: parserOpenTable
2026-01-26 10:11:35.268 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 10:11:35.270 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "Customers" does not exist

POSITION: 184
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LoginCommandHandler.<>c__DisplayClass3_0.<<Handle>b__0>d.MoveNext() in C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\Application\Feature\Customers\Commands\LoginCommand.cs:line 50
--- End of stack trace from previous location ---
   at Polly.ResiliencePipeline.<>c__10`1.<<ExecuteAsync>b__10_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Outcome`1.GetResultOrRethrow()
   at Polly.ResiliencePipeline.ExecuteAsync[TResult](Func`2 callback, CancellationToken cancellationToken)
   at LoginCommandHandler.Handle(LoginCommand command, CancellationToken ct) in C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\Application\Feature\Customers\Commands\LoginCommand.cs:line 49
   at Program.<>c.<<<Main>$>b__0_0>d.MoveNext() in C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API\Endpoints\Program.cs:line 39
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Customers" does not exist
    Position: 184
    File: parse_relation.c
    Line: 1466
    Routine: parserOpenTable
2026-01-26 10:11:35.287 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.287 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.289 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2026-01-26 10:11:35.289 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2026-01-26 10:11:35.289 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2026-01-26 10:11:35.290 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-26 10:11:35.294 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2026-01-26 10:11:35.295 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.295 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:11:35.298 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2026-01-26 10:11:35.298 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2026-01-26 10:11:35.298 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2026-01-26 10:11:35.298 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.298 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.298 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2026-01-26 10:11:35.304 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2026-01-26 10:11:35.305 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.305 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:11:35.373 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.373 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.373 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:11:35.373 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:11:35.373 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:11:35.373 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-26 10:11:35.374 +07:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-01-26 10:11:35.374 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.374 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:11:35.382 +07:00 [DBG] Connection id "0HNISH2BD2CVL" completed keep alive response.
2026-01-26 10:11:35.384 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 10:11:35.386 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:11:35.387 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-01-26 10:11:35.388 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 500 null text/html; charset=utf-8 1200.6256ms
2026-01-26 10:11:54.683 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:12:24.703 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:12:54.711 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:13:24.721 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:13:32.051 +07:00 [DBG] Connection id "0HNISH2BD2CVL" received FIN.
2026-01-26 10:13:32.051 +07:00 [DBG] Connection id "0HNISH2BD2CVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 10:13:32.052 +07:00 [DBG] Connection id "0HNISH2BD2CVL" disconnecting.
2026-01-26 10:13:32.067 +07:00 [DBG] Connection id "0HNISH2BD2CVL" stopped.
2026-01-26 10:13:54.737 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:14:24.744 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:14:54.750 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:15:24.756 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:15:54.772 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:16:24.751 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 10:16:24.787 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:16:24.790 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:16:54.799 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:17:24.812 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:17:54.818 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:18:24.831 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:18:54.852 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:19:24.876 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:19:54.899 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:20:24.920 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:20:54.936 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:21:24.864 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:21:24.957 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:21:54.982 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:22:25.002 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:22:55.019 +07:00 [DBG] Server desktop-l31jdro:28508:afa26488 heartbeat successfully sent
2026-01-26 10:24:44.754 +07:00 [INF] Starting the API...
2026-01-26 10:24:45.246 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 10:24:45.314 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 10:24:45.366 +07:00 [DBG] Hosting starting
2026-01-26 10:24:45.387 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 10:24:45.392 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 10:24:45.400 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 10:24:45.408 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 10:24:45.409 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 10:24:45.410 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 10:24:45.411 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 10:24:45.413 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 10:24:45.414 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 10:24:45.414 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 10:24:45.415 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 10:24:45.417 +07:00 [DBG] Middleware loaded
2026-01-26 10:24:45.419 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 10:24:45.422 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 10:24:45.494 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 10:24:45.494 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 10:24:45.494 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 10:24:45.502 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 10:24:45.502 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 10:24:45.503 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 10:24:45.507 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 10:24:45.507 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 10:24:45.507 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 10:24:45.507 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 10:24:45.507 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 10:24:45.507 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 10:24:45.516 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 10:24:45.516 +07:00 [INF] Hosting environment: Development
2026-01-26 10:24:45.516 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 10:24:45.516 +07:00 [DBG] Hosting started
2026-01-26 10:24:45.523 +07:00 [DBG] Execution loop BackgroundServerProcess:8bed23f9 has started in 3.4444 ms
2026-01-26 10:24:45.638 +07:00 [INF] Server desktop-l31jdro:13608:15d09a05 successfully announced in 112.9961 ms
2026-01-26 10:24:45.642 +07:00 [DBG] Execution loop ServerHeartbeatProcess:04dba990 has started in 2.4244 ms
2026-01-26 10:24:45.643 +07:00 [INF] Server desktop-l31jdro:13608:15d09a05 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 10:24:45.645 +07:00 [DBG] Execution loop ServerWatchdog:f381ddc5 has started in 1.388 ms
2026-01-26 10:24:45.646 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:ca9859cc has started in 1.2673 ms
2026-01-26 10:24:45.648 +07:00 [DBG] Execution loop ExpirationManager:fffb2937 has started in 1.4938 ms
2026-01-26 10:24:45.649 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 10:24:45.649 +07:00 [DBG] Execution loop CountersAggregator:d9d25a54 has started in 1.213 ms
2026-01-26 10:24:45.649 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:24:45.650 +07:00 [DBG] Execution loop Worker:796e9b6c has started in 1.3603 ms
2026-01-26 10:24:45.653 +07:00 [DBG] Execution loop Worker:6bc2d390 has started in 3.8941 ms
2026-01-26 10:24:45.655 +07:00 [DBG] Execution loop Worker:22675229 has started in 6.3541 ms
2026-01-26 10:24:45.657 +07:00 [DBG] Execution loop Worker:e523cfdc has started in 7.6029 ms
2026-01-26 10:24:45.658 +07:00 [DBG] Execution loop Worker:a5195618 has started in 8.8826 ms
2026-01-26 10:24:45.660 +07:00 [DBG] Execution loop Worker:6eda7aaa has started in 10.5695 ms
2026-01-26 10:24:45.661 +07:00 [DBG] Execution loop Worker:a3d89ebf has started in 12.5778 ms
2026-01-26 10:24:45.670 +07:00 [DBG] Execution loop Worker:871bcca6 has started in 20.8511 ms
2026-01-26 10:24:45.673 +07:00 [DBG] Execution loop Worker:1f0bec5f has started in 23.9991 ms
2026-01-26 10:24:45.676 +07:00 [DBG] Execution loop Worker:90940111 has started in 27.1322 ms
2026-01-26 10:24:45.677 +07:00 [DBG] Execution loop Worker:eaef8ddd has started in 28.4609 ms
2026-01-26 10:24:45.681 +07:00 [DBG] Execution loop Worker:6db15fd3 has started in 31.8082 ms
2026-01-26 10:24:45.683 +07:00 [DBG] Execution loop Worker:965c1fae has started in 33.6475 ms
2026-01-26 10:24:45.687 +07:00 [DBG] Execution loop Worker:13267da4 has started in 37.8087 ms
2026-01-26 10:24:45.689 +07:00 [DBG] Execution loop Worker:7b28204f has started in 40.4374 ms
2026-01-26 10:24:45.691 +07:00 [DBG] Execution loop Worker:d604e60b has started in 42.1642 ms
2026-01-26 10:24:45.692 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 10:24:45.694 +07:00 [DBG] Execution loop Worker:3269fda0 has started in 44.929 ms
2026-01-26 10:24:45.697 +07:00 [DBG] Execution loop Worker:a304aeea has started in 48.312 ms
2026-01-26 10:24:45.705 +07:00 [DBG] Execution loop Worker:36260ed9 has started in 55.9432 ms
2026-01-26 10:24:45.710 +07:00 [DBG] Execution loop Worker:f686ad36 has started in 61.1857 ms
2026-01-26 10:24:45.711 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 10:24:45.744 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 10:24:45.745 +07:00 [DBG] Execution loop DelayedJobScheduler:07b2931e has started in 29.7854 ms
2026-01-26 10:24:45.750 +07:00 [DBG] Execution loop RecurringJobScheduler:33151b7d has started in 4.5449 ms
2026-01-26 10:24:45.750 +07:00 [INF] Server desktop-l31jdro:13608:15d09a05 all the dispatchers started
2026-01-26 10:24:45.769 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 10:24:45.786 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 10:24:45.834 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" accepted.
2026-01-26 10:24:45.836 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" started.
2026-01-26 10:24:45.873 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 10:24:45.922 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 10:24:45.922 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:24:45.940 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:24:45.944 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 10:24:45.946 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" completed keep alive response.
2026-01-26 10:24:45.947 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 75.4135ms
2026-01-26 10:24:45.949 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 10:24:45.992 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-01-26 10:24:45.993 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-01-26 10:24:45.993 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:24:45.995 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:24:45.995 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 10:24:45.995 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" completed keep alive response.
2026-01-26 10:24:45.995 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 404 0 null 3.4955ms
2026-01-26 10:24:45.996 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" reset.
2026-01-26 10:24:45.996 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 404
2026-01-26 10:24:45.996 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 10:24:45.997 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" disconnecting.
2026-01-26 10:24:45.998 +07:00 [DBG] Connection id "0HNISH9Q3IFDH" stopped.
2026-01-26 10:24:50.464 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" accepted.
2026-01-26 10:24:50.464 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" started.
2026-01-26 10:24:50.464 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 10:24:50.466 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 10:24:50.466 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:24:50.468 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:24:50.471 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:24:50.471 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 7.2456ms
2026-01-26 10:24:50.510 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 10:24:50.510 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 10:24:50.510 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:24:50.510 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:24:50.525 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 10:24:50.530 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 10:24:50.530 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:24:50.530 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 20.3072ms
2026-01-26 10:24:50.574 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 10:24:50.576 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 10:24:50.576 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:24:50.576 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 2.2725ms
2026-01-26 10:24:50.789 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 10:24:50.789 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 10:24:50.789 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:24:50.789 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:24:50.791 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 10:24:50.793 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 10:24:51.128 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:24:51.128 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 339.5803ms
2026-01-26 10:24:54.812 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 10:24:54.815 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 10:24:54.816 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 10:24:54.816 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 10:24:54.817 +07:00 [INF] CORS policy execution failed.
2026-01-26 10:24:54.817 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 10:24:54.817 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:24:54.818 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:24:54.819 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 10:24:54.822 +07:00 [DBG] Connection id "0HNISH9Q3IFDI", Request id "0HNISH9Q3IFDI:00000005": started reading request body.
2026-01-26 10:24:54.822 +07:00 [DBG] Connection id "0HNISH9Q3IFDI", Request id "0HNISH9Q3IFDI:00000005": done reading request body.
2026-01-26 10:24:54.830 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 10:24:54.900 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 10:24:55.390 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 10:24:55.390 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 10:24:55.471 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 10:24:55.520 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 10:24:55.561 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 10:24:55.561 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 10:24:55.771 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 10:24:55.801 +07:00 [DBG] Creating DbConnection.
2026-01-26 10:24:55.804 +07:00 [DBG] Created DbConnection. (1ms).
2026-01-26 10:24:55.806 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:24:55.807 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:24:55.809 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:24:55.812 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:24:55.813 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-26 10:24:55.819 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 10:24:55.834 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 10:24:55.840 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:24:55.843 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2026-01-26 10:24:55.845 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:24:55.846 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:24:55.851 +07:00 [INF] Setting HTTP status code 401.
2026-01-26 10:24:55.851 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 10:24:55.854 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:24:55.855 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 10:24:55.858 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:24:55.859 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-01-26 10:24:55.859 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 401 0 null 1046.4975ms
2026-01-26 10:25:15.668 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:25:45.690 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:25:47.542 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 79
2026-01-26 10:25:47.542 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 10:25:47.542 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 10:25:47.542 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 10:25:47.542 +07:00 [INF] CORS policy execution failed.
2026-01-26 10:25:47.542 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 10:25:47.543 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:25:47.543 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:25:47.543 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 10:25:47.543 +07:00 [DBG] Connection id "0HNISH9Q3IFDI", Request id "0HNISH9Q3IFDI:00000006": started reading request body.
2026-01-26 10:25:47.543 +07:00 [DBG] Connection id "0HNISH9Q3IFDI", Request id "0HNISH9Q3IFDI:00000006": done reading request body.
2026-01-26 10:25:47.584 +07:00 [INF] Setting HTTP status code 200.
2026-01-26 10:25:47.586 +07:00 [INF] Writing value of type 'LoginResponse' as Json.
2026-01-26 10:25:47.588 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 10:25:47.589 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:25:47.589 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 200 null application/json; charset=utf-8 46.6824ms
2026-01-26 10:26:10.226 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 10:26:10.226 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 10:26:10.226 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 10:26:10.267 +07:00 [DBG] Successfully validated the token.
2026-01-26 10:26:10.267 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 10:26:10.271 +07:00 [DBG] Authorization was successful.
2026-01-26 10:26:10.271 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:26:10.271 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 10:26:10.359 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 10:26:10.363 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomerReadDTO(c))'
2026-01-26 10:26:10.364 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 10:26:10.364 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 10:26:10.371 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerReadDTO>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c, 
        False, 
        Parameter
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Customer entity;
        PhoneNumber entity;
        EmailAddress entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Customer instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Customer);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Customer)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                        {
                            return 
                            {
                                Customer instance;
                                instance = new Customer();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                instance.<LastName>k__BackingField = dataReader.GetString(3);
                                instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                instance.<Password>k__BackingField = dataReader.GetString(5);
                                instance.<Region>k__BackingField = dataReader.GetString(6);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Customer)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            PhoneNumber instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(PhoneNumber);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (PhoneNumber)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new PhoneNumber(
                                dataReader.GetString(9), 
                                dataReader.GetString(10)
                            );
                        }
                    default: 
                        default(PhoneNumber)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            EmailAddress instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(EmailAddress);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (EmailAddress)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new EmailAddress(dataReader.GetString(11));
                        }
                    default: 
                        default(EmailAddress)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return new CustomerReadDTO(entity);
    }, 
    contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-26 10:26:10.374 +07:00 [DBG] Creating DbConnection.
2026-01-26 10:26:10.374 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 10:26:10.374 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:10.374 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:10.374 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:26:10.374 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:26:10.374 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:26:10.374 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 10:26:10.376 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 10:26:10.376 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:10.377 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-01-26 10:26:10.377 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:10.377 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:26:10.387 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 10:26:10.387 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:26:10.387 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 10:26:10.387 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:10.387 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:26:10.387 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 161.4748ms
2026-01-26 10:26:15.701 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:26:45.708 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:26:58.733 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/Customer - application/json 150
2026-01-26 10:26:58.733 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 10:26:58.733 +07:00 [DBG] Request matched endpoint 'HTTP: POST /Customer/'
2026-01-26 10:26:58.734 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 10:26:58.734 +07:00 [INF] CORS policy execution failed.
2026-01-26 10:26:58.734 +07:00 [INF] Request origin http://localhost:5067 does not have permission to access the resource.
2026-01-26 10:26:58.734 +07:00 [DBG] Successfully validated the token.
2026-01-26 10:26:58.734 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 10:26:58.736 +07:00 [DBG] Authorization was successful.
2026-01-26 10:26:58.736 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:26:58.736 +07:00 [INF] Executing endpoint 'HTTP: POST /Customer/'
2026-01-26 10:26:58.736 +07:00 [DBG] Connection id "0HNISH9Q3IFDI", Request id "0HNISH9Q3IFDI:00000008": started reading request body.
2026-01-26 10:26:58.736 +07:00 [DBG] Connection id "0HNISH9Q3IFDI", Request id "0HNISH9Q3IFDI:00000008": done reading request body.
2026-01-26 10:26:58.770 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 10:26:58.835 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:26:58.848 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:26:58.850 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:26:58.852 +07:00 [DBG] SaveChanges starting for 'CustomerDb'.
2026-01-26 10:26:58.855 +07:00 [DBG] DetectChanges starting for 'CustomerDb'.
2026-01-26 10:26:58.871 +07:00 [DBG] DetectChanges completed for 'CustomerDb'.
2026-01-26 10:26:58.919 +07:00 [DBG] Creating DbConnection.
2026-01-26 10:26:58.919 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 10:26:58.919 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:58.919 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:58.920 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:26:58.920 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:26:58.922 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2026-01-26 10:26:58.922 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "CreatedAt", "FirstName", "LastName", "MembershipLevel", "Password", "Region", "Status", "UpdatedAt", "Email", "CountryCode", "PhoneNumber")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-01-26 10:26:58.927 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Id", "CreatedAt", "FirstName", "LastName", "MembershipLevel", "Password", "Region", "Status", "UpdatedAt", "Email", "CountryCode", "PhoneNumber")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2026-01-26 10:26:58.929 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:58.929 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-01-26 10:26:58.930 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:58.930 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:26:58.935 +07:00 [DBG] An entity of type 'Customer' tracked by 'CustomerDb' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:26:58.935 +07:00 [DBG] An entity of type 'PhoneNumber' tracked by 'CustomerDb' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:26:58.936 +07:00 [DBG] An entity of type 'EmailAddress' tracked by 'CustomerDb' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:26:58.937 +07:00 [DBG] SaveChanges completed for 'CustomerDb' with 1 entities written to the database.
2026-01-26 10:26:58.944 +07:00 [INF] Executed endpoint 'HTTP: POST /Customer/'
2026-01-26 10:26:58.944 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:26:58.944 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 10:26:58.944 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:26:58.944 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:26:58.944 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/Customer - 200 null application/json; charset=utf-8 210.9253ms
2026-01-26 10:27:15.724 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:27:18.500 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 10:27:18.500 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 10:27:18.500 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 10:27:18.501 +07:00 [DBG] Successfully validated the token.
2026-01-26 10:27:18.501 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 10:27:18.502 +07:00 [DBG] Authorization was successful.
2026-01-26 10:27:18.502 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:27:18.502 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 10:27:18.506 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 10:27:18.509 +07:00 [DBG] Creating DbConnection.
2026-01-26 10:27:18.509 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 10:27:18.509 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:27:18.509 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:27:18.509 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:27:18.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:27:18.509 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:27:18.509 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 10:27:18.511 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 10:27:18.517 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:27:18.521 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:27:18.522 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:27:18.523 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:27:18.523 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 10:27:18.524 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:27:18.524 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
2026-01-26 10:27:18.524 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:27:18.524 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:27:18.529 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 10:27:18.529 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" completed keep alive response.
2026-01-26 10:27:18.529 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 10:27:18.529 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:27:18.529 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:27:18.529 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 29.2501ms
2026-01-26 10:27:45.745 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:28:15.774 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:28:45.795 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:29:14.041 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" received FIN.
2026-01-26 10:29:14.042 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 10:29:14.043 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" disconnecting.
2026-01-26 10:29:14.057 +07:00 [DBG] Connection id "0HNISH9Q3IFDI" stopped.
2026-01-26 10:29:15.802 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:29:45.733 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 10:29:45.769 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:29:45.820 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:30:15.840 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:30:45.850 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:31:15.866 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:31:45.883 +07:00 [DBG] Server desktop-l31jdro:13608:15d09a05 heartbeat successfully sent
2026-01-26 10:32:25.414 +07:00 [INF] Starting the API...
2026-01-26 10:32:25.936 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 10:32:26.006 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 10:32:26.058 +07:00 [DBG] Hosting starting
2026-01-26 10:32:26.075 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 10:32:26.080 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 10:32:26.086 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 10:32:26.093 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 10:32:26.095 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 10:32:26.096 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 10:32:26.097 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 10:32:26.098 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 10:32:26.099 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 10:32:26.100 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 10:32:26.100 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 10:32:26.103 +07:00 [DBG] Middleware loaded
2026-01-26 10:32:26.104 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 10:32:26.107 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 10:32:26.181 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 10:32:26.181 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 10:32:26.181 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 10:32:26.189 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 10:32:26.190 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 10:32:26.190 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 10:32:26.194 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 10:32:26.195 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 10:32:26.195 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 10:32:26.195 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 10:32:26.195 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 10:32:26.195 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 10:32:26.204 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 10:32:26.204 +07:00 [INF] Hosting environment: Development
2026-01-26 10:32:26.204 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 10:32:26.204 +07:00 [DBG] Hosting started
2026-01-26 10:32:26.210 +07:00 [DBG] Execution loop BackgroundServerProcess:b733c29d has started in 3.3204 ms
2026-01-26 10:32:26.319 +07:00 [INF] Server desktop-l31jdro:17004:0b0d5803 successfully announced in 105.7004 ms
2026-01-26 10:32:26.322 +07:00 [DBG] Execution loop ServerHeartbeatProcess:deca1f68 has started in 1.7886 ms
2026-01-26 10:32:26.323 +07:00 [INF] Server desktop-l31jdro:17004:0b0d5803 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 10:32:26.324 +07:00 [DBG] Execution loop ServerWatchdog:86f8fbef has started in 1.1049 ms
2026-01-26 10:32:26.325 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:61b568a1 has started in 1.2159 ms
2026-01-26 10:32:26.327 +07:00 [DBG] Execution loop ExpirationManager:ed9b4bd8 has started in 1.1015 ms
2026-01-26 10:32:26.328 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 10:32:26.328 +07:00 [DBG] Execution loop CountersAggregator:94b137fa has started in 1.2822 ms
2026-01-26 10:32:26.328 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:32:26.329 +07:00 [DBG] Execution loop Worker:32140b99 has started in 1.4143 ms
2026-01-26 10:32:26.332 +07:00 [DBG] Execution loop Worker:55ec15b6 has started in 4.5206 ms
2026-01-26 10:32:26.334 +07:00 [DBG] Execution loop Worker:c15bd91d has started in 5.8861 ms
2026-01-26 10:32:26.335 +07:00 [DBG] Execution loop Worker:e0e061ad has started in 7.2208 ms
2026-01-26 10:32:26.336 +07:00 [DBG] Execution loop Worker:eda8275a has started in 8.5173 ms
2026-01-26 10:32:26.337 +07:00 [DBG] Execution loop Worker:1781f289 has started in 9.5925 ms
2026-01-26 10:32:26.339 +07:00 [DBG] Execution loop Worker:6abb814e has started in 10.7427 ms
2026-01-26 10:32:26.348 +07:00 [DBG] Execution loop Worker:58ff6ef8 has started in 19.9634 ms
2026-01-26 10:32:26.350 +07:00 [DBG] Execution loop Worker:7ef3939e has started in 21.8879 ms
2026-01-26 10:32:26.353 +07:00 [DBG] Execution loop Worker:116217fb has started in 24.7383 ms
2026-01-26 10:32:26.355 +07:00 [DBG] Execution loop Worker:3c2e9434 has started in 27.1003 ms
2026-01-26 10:32:26.357 +07:00 [DBG] Execution loop Worker:756a2a79 has started in 28.8827 ms
2026-01-26 10:32:26.360 +07:00 [DBG] Execution loop Worker:7ff3b062 has started in 31.6733 ms
2026-01-26 10:32:26.362 +07:00 [DBG] Execution loop Worker:051deb9c has started in 34.0518 ms
2026-01-26 10:32:26.364 +07:00 [DBG] Execution loop Worker:b8d68a61 has started in 35.8529 ms
2026-01-26 10:32:26.367 +07:00 [DBG] Execution loop Worker:ada46d67 has started in 38.947 ms
2026-01-26 10:32:26.369 +07:00 [DBG] Execution loop Worker:538fbf4a has started in 41.2954 ms
2026-01-26 10:32:26.372 +07:00 [DBG] Execution loop Worker:67f6744e has started in 44.571 ms
2026-01-26 10:32:26.376 +07:00 [DBG] Execution loop Worker:472247bb has started in 47.5853 ms
2026-01-26 10:32:26.390 +07:00 [DBG] Execution loop Worker:cfc6ad19 has started in 61.9803 ms
2026-01-26 10:32:26.424 +07:00 [DBG] Execution loop DelayedJobScheduler:6c59d839 has started in 34.2896 ms
2026-01-26 10:32:26.445 +07:00 [DBG] Execution loop RecurringJobScheduler:dd9b346b has started in 20.0222 ms
2026-01-26 10:32:26.446 +07:00 [INF] Server desktop-l31jdro:17004:0b0d5803 all the dispatchers started
2026-01-26 10:32:26.462 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 10:32:26.494 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 10:32:26.515 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 10:32:26.515 +07:00 [DBG] Connection id "0HNISHE3CV4H5" accepted.
2026-01-26 10:32:26.515 +07:00 [DBG] Connection id "0HNISHE3CV4H5" started.
2026-01-26 10:32:26.526 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 10:32:26.545 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 10:32:26.559 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 10:32:26.592 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 10:32:26.593 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:32:26.614 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:32:26.617 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 10:32:26.620 +07:00 [DBG] Connection id "0HNISHE3CV4H5" completed keep alive response.
2026-01-26 10:32:26.621 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 61.9506ms
2026-01-26 10:32:26.623 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 10:32:41.851 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 10:32:41.852 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 10:32:41.852 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:32:41.855 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:32:41.859 +07:00 [DBG] Connection id "0HNISHE3CV4H5" completed keep alive response.
2026-01-26 10:32:41.859 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 8.1666ms
2026-01-26 10:32:41.898 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 10:32:41.898 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 10:32:41.898 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:32:41.901 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:32:41.914 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 10:32:41.919 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 10:32:41.919 +07:00 [DBG] Connection id "0HNISHE3CV4H5" completed keep alive response.
2026-01-26 10:32:41.919 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 21.5606ms
2026-01-26 10:32:41.964 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 10:32:41.966 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 10:32:41.966 +07:00 [DBG] Connection id "0HNISHE3CV4H5" completed keep alive response.
2026-01-26 10:32:41.967 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 2.0834ms
2026-01-26 10:32:42.177 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 10:32:42.178 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 10:32:42.178 +07:00 [DBG] Request did not match any endpoints
2026-01-26 10:32:42.178 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:32:42.180 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 10:32:42.183 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 10:32:42.527 +07:00 [DBG] Connection id "0HNISHE3CV4H5" completed keep alive response.
2026-01-26 10:32:42.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 350.0666ms
2026-01-26 10:32:55.326 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 10:32:55.329 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 10:32:55.329 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 10:32:55.330 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 10:32:55.330 +07:00 [INF] CORS policy execution successful.
2026-01-26 10:32:55.331 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 10:32:55.331 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 10:32:55.331 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 10:32:55.334 +07:00 [DBG] Connection id "0HNISHE3CV4H5", Request id "0HNISHE3CV4H5:00000006": started reading request body.
2026-01-26 10:32:55.335 +07:00 [DBG] Connection id "0HNISHE3CV4H5", Request id "0HNISHE3CV4H5:00000006": done reading request body.
2026-01-26 10:32:55.343 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 10:32:55.415 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 10:32:55.913 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 10:32:55.913 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 10:32:55.989 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 10:32:56.030 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 10:32:56.062 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 10:32:56.062 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 10:32:56.254 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 10:32:56.282 +07:00 [DBG] Creating DbConnection.
2026-01-26 10:32:56.285 +07:00 [DBG] Created DbConnection. (1ms).
2026-01-26 10:32:56.287 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:32:56.288 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:32:56.289 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 10:32:56.292 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 10:32:56.294 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-26 10:32:56.299 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 10:32:56.313 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 10:32:56.319 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:32:56.322 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2026-01-26 10:32:56.324 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:32:56.325 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 10:32:56.329 +07:00 [INF] Setting HTTP status code 401.
2026-01-26 10:32:56.329 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 10:32:56.332 +07:00 [DBG] Connection id "0HNISHE3CV4H5" completed keep alive response.
2026-01-26 10:32:56.333 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 10:32:56.336 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 10:32:56.337 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-01-26 10:32:56.338 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 401 0 null 1011.5109ms
2026-01-26 10:32:56.353 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:33:26.376 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:33:56.394 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:34:26.417 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:34:52.282 +07:00 [DBG] Connection id "0HNISHE3CV4H5" received FIN.
2026-01-26 10:34:52.283 +07:00 [DBG] Connection id "0HNISHE3CV4H5" disconnecting.
2026-01-26 10:34:52.283 +07:00 [DBG] Connection id "0HNISHE3CV4H5" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 10:34:52.297 +07:00 [DBG] Connection id "0HNISHE3CV4H5" stopped.
2026-01-26 10:34:56.442 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:35:26.465 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:35:56.489 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:36:26.506 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:36:56.527 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 10:37:26.341 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 10:37:26.409 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 10:37:26.545 +07:00 [DBG] Server desktop-l31jdro:17004:0b0d5803 heartbeat successfully sent
2026-01-26 11:07:02.260 +07:00 [INF] Starting the API...
2026-01-26 11:07:02.826 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 11:07:02.894 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 11:07:02.929 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-01-26 11:07:02.929 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-01-26 11:07:02.929 +07:00 [DBG] Found module AuthModule
2026-01-26 11:07:02.929 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-01-26 11:07:02.970 +07:00 [DBG] Hosting starting
2026-01-26 11:07:02.987 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 11:07:02.992 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 11:07:02.997 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 11:07:03.004 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 11:07:03.006 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 11:07:03.007 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 11:07:03.007 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 11:07:03.009 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 11:07:03.010 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 11:07:03.011 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 11:07:03.011 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 11:07:03.014 +07:00 [DBG] Middleware loaded
2026-01-26 11:07:03.015 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 11:07:03.018 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 11:07:03.095 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 11:07:03.095 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 11:07:03.096 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 11:07:03.103 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 11:07:03.103 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 11:07:03.104 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 11:07:03.108 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 11:07:03.108 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 11:07:03.108 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 11:07:03.108 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 11:07:03.108 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 11:07:03.108 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 11:07:03.117 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 11:07:03.117 +07:00 [INF] Hosting environment: Development
2026-01-26 11:07:03.117 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 11:07:03.117 +07:00 [DBG] Hosting started
2026-01-26 11:07:03.123 +07:00 [DBG] Execution loop BackgroundServerProcess:fb7808de has started in 3.1584 ms
2026-01-26 11:07:03.265 +07:00 [INF] Server desktop-l31jdro:19104:15a615a0 successfully announced in 138.4564 ms
2026-01-26 11:07:03.271 +07:00 [DBG] Execution loop ServerHeartbeatProcess:54b86a59 has started in 3.9895 ms
2026-01-26 11:07:03.272 +07:00 [INF] Server desktop-l31jdro:19104:15a615a0 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 11:07:03.274 +07:00 [DBG] Execution loop ServerWatchdog:ae0f0377 has started in 1.5359 ms
2026-01-26 11:07:03.275 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:4e826cb8 has started in 1.3354 ms
2026-01-26 11:07:03.277 +07:00 [DBG] Execution loop ExpirationManager:fffaa231 has started in 1.5553 ms
2026-01-26 11:07:03.279 +07:00 [DBG] Execution loop CountersAggregator:222ea0c0 has started in 1.3874 ms
2026-01-26 11:07:03.279 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 11:07:03.279 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 11:07:03.280 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 11:07:03.280 +07:00 [DBG] Execution loop Worker:0ec03531 has started in 1.6464 ms
2026-01-26 11:07:03.283 +07:00 [DBG] Execution loop Worker:70c636e0 has started in 4.5002 ms
2026-01-26 11:07:03.285 +07:00 [DBG] Execution loop Worker:aceaede7 has started in 6.4652 ms
2026-01-26 11:07:03.287 +07:00 [DBG] Execution loop Worker:dd9162bd has started in 8.1425 ms
2026-01-26 11:07:03.289 +07:00 [DBG] Execution loop Worker:2ce9a726 has started in 10.1982 ms
2026-01-26 11:07:03.290 +07:00 [DBG] Execution loop Worker:a1e4c51e has started in 11.3831 ms
2026-01-26 11:07:03.291 +07:00 [DBG] Execution loop Worker:a5e78886 has started in 12.4883 ms
2026-01-26 11:07:03.300 +07:00 [DBG] Execution loop Worker:1140962d has started in 21.4375 ms
2026-01-26 11:07:03.305 +07:00 [DBG] Execution loop Worker:ce21ae85 has started in 25.7737 ms
2026-01-26 11:07:03.306 +07:00 [DBG] Execution loop Worker:18560e66 has started in 27.6279 ms
2026-01-26 11:07:03.310 +07:00 [DBG] Execution loop Worker:17e1249a has started in 31.0515 ms
2026-01-26 11:07:03.313 +07:00 [DBG] Execution loop Worker:8aee809b has started in 34.029 ms
2026-01-26 11:07:03.316 +07:00 [DBG] Execution loop Worker:a975f5fd has started in 36.9524 ms
2026-01-26 11:07:03.322 +07:00 [DBG] Execution loop Worker:523365ca has started in 43.1779 ms
2026-01-26 11:07:03.325 +07:00 [DBG] Execution loop Worker:748a97f4 has started in 41.7561 ms
2026-01-26 11:07:03.325 +07:00 [DBG] Execution loop Worker:90ad2d93 has started in 46.5935 ms
2026-01-26 11:07:03.332 +07:00 [DBG] Execution loop Worker:218e37a7 has started in 52.7375 ms
2026-01-26 11:07:03.337 +07:00 [DBG] Execution loop Worker:11f23441 has started in 58.2679 ms
2026-01-26 11:07:03.344 +07:00 [DBG] Execution loop Worker:fe18329c has started in 65.6656 ms
2026-01-26 11:07:03.356 +07:00 [DBG] Execution loop Worker:6325b337 has started in 77.5163 ms
2026-01-26 11:07:03.363 +07:00 [DBG] Execution loop DelayedJobScheduler:56127958 has started in 6.6065 ms
2026-01-26 11:07:03.393 +07:00 [DBG] Execution loop RecurringJobScheduler:7174a226 has started in 29.2818 ms
2026-01-26 11:07:03.393 +07:00 [INF] Server desktop-l31jdro:19104:15a615a0 all the dispatchers started
2026-01-26 11:07:03.444 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 11:07:03.470 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 11:07:03.479 +07:00 [DBG] Connection id "0HNISI1ECE9KB" accepted.
2026-01-26 11:07:03.480 +07:00 [DBG] Connection id "0HNISI1ECE9KB" started.
2026-01-26 11:07:03.480 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 11:07:03.489 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 11:07:03.498 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 11:07:03.521 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 11:07:03.555 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 11:07:03.555 +07:00 [DBG] Request did not match any endpoints
2026-01-26 11:07:03.577 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 11:07:03.580 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 11:07:03.582 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:03.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 61.9209ms
2026-01-26 11:07:03.585 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 11:07:06.695 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 11:07:06.696 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 11:07:06.696 +07:00 [DBG] Request did not match any endpoints
2026-01-26 11:07:06.698 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 11:07:06.703 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:06.703 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 8.0036ms
2026-01-26 11:07:06.743 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 11:07:06.744 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 11:07:06.744 +07:00 [DBG] Request did not match any endpoints
2026-01-26 11:07:06.747 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 11:07:06.760 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 11:07:06.765 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 11:07:06.765 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:06.765 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 21.6325ms
2026-01-26 11:07:06.811 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 11:07:06.812 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 11:07:06.813 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:06.813 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 1.8564ms
2026-01-26 11:07:07.132 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 11:07:07.133 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 11:07:07.133 +07:00 [DBG] Request did not match any endpoints
2026-01-26 11:07:07.133 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 11:07:07.135 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 11:07:07.138 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 11:07:07.498 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:07.499 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 366.2581ms
2026-01-26 11:07:12.074 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 11:07:12.076 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 11:07:12.077 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 11:07:12.077 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 11:07:12.078 +07:00 [INF] CORS policy execution successful.
2026-01-26 11:07:12.078 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 11:07:12.078 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 11:07:12.079 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 11:07:12.082 +07:00 [DBG] Connection id "0HNISI1ECE9KB", Request id "0HNISI1ECE9KB:00000006": started reading request body.
2026-01-26 11:07:12.082 +07:00 [DBG] Connection id "0HNISI1ECE9KB", Request id "0HNISI1ECE9KB:00000006": done reading request body.
2026-01-26 11:07:12.091 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 11:07:12.164 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 11:07:12.653 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 11:07:12.653 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 11:07:12.732 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 11:07:12.774 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 11:07:12.808 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 11:07:12.808 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 11:07:13.004 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 11:07:13.032 +07:00 [DBG] Creating DbConnection.
2026-01-26 11:07:13.035 +07:00 [DBG] Created DbConnection. (1ms).
2026-01-26 11:07:13.037 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:13.039 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:13.042 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 11:07:13.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2026-01-26 11:07:13.048 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2026-01-26 11:07:13.054 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 11:07:13.067 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 11:07:13.072 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:13.076 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2026-01-26 11:07:13.078 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:13.079 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 11:07:13.083 +07:00 [INF] Setting HTTP status code 401.
2026-01-26 11:07:13.083 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 11:07:13.086 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:13.087 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 11:07:13.090 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:13.091 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-01-26 11:07:13.091 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 401 0 null 1017.3426ms
2026-01-26 11:07:22.076 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 72
2026-01-26 11:07:22.076 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 11:07:22.076 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 11:07:22.076 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 11:07:22.076 +07:00 [INF] CORS policy execution successful.
2026-01-26 11:07:22.076 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 11:07:22.076 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 11:07:22.076 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 11:07:22.076 +07:00 [DBG] Connection id "0HNISI1ECE9KB", Request id "0HNISI1ECE9KB:00000007": started reading request body.
2026-01-26 11:07:22.076 +07:00 [DBG] Connection id "0HNISI1ECE9KB", Request id "0HNISI1ECE9KB:00000007": done reading request body.
2026-01-26 11:07:22.130 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 11:07:22.134 +07:00 [DBG] Creating DbConnection.
2026-01-26 11:07:22.134 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 11:07:22.134 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:22.134 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:22.134 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 11:07:22.134 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 11:07:22.134 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 11:07:22.134 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 11:07:22.136 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 11:07:22.168 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:22.201 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:22.203 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:22.209 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:22.209 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:22.212 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:22.212 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 76ms reading results.
2026-01-26 11:07:22.212 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:22.212 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 11:07:22.232 +07:00 [INF] Setting HTTP status code 200.
2026-01-26 11:07:22.234 +07:00 [INF] Writing value of type 'LoginResponse' as Json.
2026-01-26 11:07:22.237 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 11:07:22.237 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:22.237 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 11:07:22.237 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:22.237 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 11:07:22.237 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 200 null application/json; charset=utf-8 161.7838ms
2026-01-26 11:07:33.301 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:07:39.788 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 11:07:39.788 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 11:07:39.788 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 11:07:39.819 +07:00 [DBG] Successfully validated the token.
2026-01-26 11:07:39.820 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 11:07:39.823 +07:00 [DBG] Authorization was successful.
2026-01-26 11:07:39.823 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 11:07:39.823 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 11:07:39.869 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 11:07:39.873 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomerReadDTO(c))'
2026-01-26 11:07:39.874 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 11:07:39.874 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 11:07:39.882 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerReadDTO>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c, 
        False, 
        Parameter
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Customer entity;
        PhoneNumber entity;
        EmailAddress entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Customer instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Customer);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Customer)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                        {
                            return 
                            {
                                Customer instance;
                                instance = new Customer();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                instance.<LastName>k__BackingField = dataReader.GetString(3);
                                instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                instance.<Password>k__BackingField = dataReader.GetString(5);
                                instance.<Region>k__BackingField = dataReader.GetString(6);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Customer)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            PhoneNumber instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(PhoneNumber);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (PhoneNumber)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new PhoneNumber(
                                dataReader.GetString(9), 
                                dataReader.GetString(10)
                            );
                        }
                    default: 
                        default(PhoneNumber)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            EmailAddress instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(EmailAddress);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (EmailAddress)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new EmailAddress(dataReader.GetString(11));
                        }
                    default: 
                        default(EmailAddress)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return new CustomerReadDTO(entity);
    }, 
    contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-26 11:07:39.885 +07:00 [DBG] Creating DbConnection.
2026-01-26 11:07:39.885 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 11:07:39.885 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:39.885 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:39.885 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 11:07:39.885 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 11:07:39.885 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 11:07:39.885 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 11:07:39.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 11:07:39.887 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:39.887 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:39.887 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:39.887 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:39.887 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 11:07:39.889 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:39.889 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-01-26 11:07:39.889 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:39.889 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 11:07:39.901 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 11:07:39.901 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:39.901 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 11:07:39.901 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 11:07:39.901 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 11:07:39.901 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 112.8848ms
2026-01-26 11:07:41.807 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 11:07:41.808 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 11:07:41.808 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 11:07:41.808 +07:00 [DBG] Successfully validated the token.
2026-01-26 11:07:41.808 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 11:07:41.810 +07:00 [DBG] Authorization was successful.
2026-01-26 11:07:41.810 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 11:07:41.810 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 11:07:41.817 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 11:07:41.817 +07:00 [DBG] Connection id "0HNISI1ECE9KB" completed keep alive response.
2026-01-26 11:07:41.817 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 9.2532ms
2026-01-26 11:08:03.308 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:08:33.315 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:09:03.330 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:09:33.358 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:09:37.467 +07:00 [DBG] Connection id "0HNISI1ECE9KB" received FIN.
2026-01-26 11:09:37.468 +07:00 [DBG] Connection id "0HNISI1ECE9KB" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 11:09:37.468 +07:00 [DBG] Connection id "0HNISI1ECE9KB" disconnecting.
2026-01-26 11:09:37.483 +07:00 [DBG] Connection id "0HNISI1ECE9KB" stopped.
2026-01-26 11:10:03.372 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:10:33.391 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:11:03.413 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:11:33.428 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:12:03.422 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 11:12:03.452 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:12:33.488 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:13:03.507 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:13:33.535 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:14:03.556 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:14:33.571 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 11:15:03.595 +07:00 [DBG] Server desktop-l31jdro:19104:15a615a0 heartbeat successfully sent
2026-01-26 13:34:04.166 +07:00 [INF] Starting the API...
2026-01-26 13:34:06.948 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 13:34:07.014 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 13:34:07.026 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-01-26 13:34:07.026 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-01-26 13:34:07.026 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-01-26 13:34:07.026 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-01-26 13:34:07.101 +07:00 [DBG] Hosting starting
2026-01-26 13:34:07.120 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 13:34:07.127 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 13:34:07.134 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 13:34:07.141 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 13:34:07.142 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 13:34:07.143 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 13:34:07.144 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 13:34:07.146 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 13:34:07.147 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 13:34:07.148 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 13:34:07.148 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 13:34:07.151 +07:00 [DBG] Middleware loaded
2026-01-26 13:34:07.153 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 13:34:07.155 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 13:34:07.253 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 13:34:07.254 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 13:34:07.255 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 13:34:07.274 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 13:34:07.274 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 13:34:07.275 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 13:34:07.283 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 13:34:07.284 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 13:34:07.284 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 13:34:07.284 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 13:34:07.285 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 13:34:07.285 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 13:34:07.301 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 13:34:07.301 +07:00 [INF] Hosting environment: Development
2026-01-26 13:34:07.301 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 13:34:07.301 +07:00 [DBG] Hosting started
2026-01-26 13:34:07.311 +07:00 [DBG] Execution loop BackgroundServerProcess:d6944180 has started in 6.3401 ms
2026-01-26 13:34:07.503 +07:00 [INF] Server desktop-l31jdro:13364:880172f2 successfully announced in 185.7892 ms
2026-01-26 13:34:07.507 +07:00 [DBG] Execution loop ServerHeartbeatProcess:26d0d75a has started in 2.7661 ms
2026-01-26 13:34:07.508 +07:00 [INF] Server desktop-l31jdro:13364:880172f2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 13:34:07.509 +07:00 [DBG] Execution loop ServerWatchdog:ea9a5949 has started in 1.38 ms
2026-01-26 13:34:07.511 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:922648b8 has started in 1.5041 ms
2026-01-26 13:34:07.513 +07:00 [DBG] Execution loop ExpirationManager:ca214841 has started in 1.4876 ms
2026-01-26 13:34:07.514 +07:00 [DBG] Execution loop CountersAggregator:95d2025d has started in 1.569 ms
2026-01-26 13:34:07.514 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 13:34:07.515 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 13:34:07.516 +07:00 [DBG] Execution loop Worker:9193e2c4 has started in 1.8243 ms
2026-01-26 13:34:07.518 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 13:34:07.519 +07:00 [DBG] Execution loop Worker:91352f59 has started in 4.8877 ms
2026-01-26 13:34:07.521 +07:00 [DBG] Execution loop Worker:cffbcf5f has started in 6.1777 ms
2026-01-26 13:34:07.522 +07:00 [DBG] Execution loop Worker:bf6f1fac has started in 7.6495 ms
2026-01-26 13:34:07.525 +07:00 [DBG] Execution loop Worker:53a76056 has started in 9.9298 ms
2026-01-26 13:34:07.533 +07:00 [DBG] Execution loop Worker:6cbd88d5 has started in 18.7311 ms
2026-01-26 13:34:07.540 +07:00 [DBG] Execution loop Worker:f74460e0 has started in 25.4193 ms
2026-01-26 13:34:07.543 +07:00 [DBG] Execution loop Worker:8fbb4487 has started in 28.3835 ms
2026-01-26 13:34:07.552 +07:00 [DBG] Execution loop Worker:0390efda has started in 36.869 ms
2026-01-26 13:34:07.555 +07:00 [DBG] Execution loop Worker:f7560513 has started in 40.7925 ms
2026-01-26 13:34:07.558 +07:00 [DBG] Execution loop Worker:4bbb1258 has started in 43.5962 ms
2026-01-26 13:34:07.564 +07:00 [DBG] Execution loop Worker:76d56673 has started in 49.1993 ms
2026-01-26 13:34:07.569 +07:00 [DBG] Execution loop Worker:710dc247 has started in 54.3185 ms
2026-01-26 13:34:07.572 +07:00 [DBG] Execution loop Worker:f4691f42 has started in 57.8321 ms
2026-01-26 13:34:07.574 +07:00 [DBG] Execution loop Worker:dbd8e74a has started in 59.9754 ms
2026-01-26 13:34:07.579 +07:00 [DBG] Execution loop Worker:f0f102e4 has started in 64.2204 ms
2026-01-26 13:34:07.583 +07:00 [DBG] Execution loop Worker:f5c472f4 has started in 68.69 ms
2026-01-26 13:34:07.586 +07:00 [DBG] Execution loop Worker:9edd35db has started in 71.6785 ms
2026-01-26 13:34:07.596 +07:00 [DBG] Execution loop Worker:331fa604 has started in 81.4206 ms
2026-01-26 13:34:07.602 +07:00 [DBG] Execution loop Worker:c320ef3c has started in 87.2774 ms
2026-01-26 13:34:07.604 +07:00 [DBG] Execution loop DelayedJobScheduler:2ed4044e has started in 2.6564 ms
2026-01-26 13:34:07.608 +07:00 [DBG] Execution loop RecurringJobScheduler:64bedcec has started in 3.8763 ms
2026-01-26 13:34:07.608 +07:00 [INF] Server desktop-l31jdro:13364:880172f2 all the dispatchers started
2026-01-26 13:34:07.754 +07:00 [DBG] Connection id "0HNISKJK7965I" accepted.
2026-01-26 13:34:07.755 +07:00 [DBG] Connection id "0HNISKJK7965I" started.
2026-01-26 13:34:07.757 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 13:34:07.778 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 13:34:07.793 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 13:34:07.801 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 13:34:07.802 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 13:34:07.808 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 13:34:07.833 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 13:34:07.834 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:07.891 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:07.895 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 13:34:07.899 +07:00 [DBG] Connection id "0HNISKJK7965I" completed keep alive response.
2026-01-26 13:34:07.899 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 97.8103ms
2026-01-26 13:34:07.902 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 13:34:12.535 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 13:34:12.536 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 13:34:12.536 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.537 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.539 +07:00 [DBG] Connection id "0HNISKJK7965I" completed keep alive response.
2026-01-26 13:34:12.540 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 5.0384ms
2026-01-26 13:34:12.583 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 13:34:12.584 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 13:34:12.584 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.586 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.600 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 13:34:12.605 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 13:34:12.605 +07:00 [DBG] Connection id "0HNISKJK7965I" completed keep alive response.
2026-01-26 13:34:12.605 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 21.8006ms
2026-01-26 13:34:12.647 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - null null
2026-01-26 13:34:12.648 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2026-01-26 13:34:12.648 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.648 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.648 +07:00 [DBG] Connection id "0HNISKJK7965J" accepted.
2026-01-26 13:34:12.649 +07:00 [DBG] Connection id "0HNISKJK7965J" started.
2026-01-26 13:34:12.649 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.css - null null
2026-01-26 13:34:12.649 +07:00 [DBG] Connection id "0HNISKJK7965K" accepted.
2026-01-26 13:34:12.649 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2026-01-26 13:34:12.649 +07:00 [DBG] Connection id "0HNISKJK7965K" started.
2026-01-26 13:34:12.649 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.649 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.649 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - null null
2026-01-26 13:34:12.649 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2026-01-26 13:34:12.650 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.650 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.650 +07:00 [DBG] Connection id "0HNISKJK7965L" accepted.
2026-01-26 13:34:12.650 +07:00 [DBG] Connection id "0HNISKJK7965L" started.
2026-01-26 13:34:12.650 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - null null
2026-01-26 13:34:12.651 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2026-01-26 13:34:12.651 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.651 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.651 +07:00 [DBG] Connection id "0HNISKJK7965M" accepted.
2026-01-26 13:34:12.651 +07:00 [DBG] Connection id "0HNISKJK7965M" started.
2026-01-26 13:34:12.652 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 13:34:12.653 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 13:34:12.653 +07:00 [DBG] Connection id "0HNISKJK7965M" completed keep alive response.
2026-01-26 13:34:12.654 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 1.7805ms
2026-01-26 13:34:12.656 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2026-01-26 13:34:12.657 +07:00 [DBG] Connection id "0HNISKJK7965J" completed keep alive response.
2026-01-26 13:34:12.657 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.css - 200 218 text/css 7.5641ms
2026-01-26 13:34:12.666 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2026-01-26 13:34:12.666 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-01-26 13:34:12.670 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-01-26 13:34:12.672 +07:00 [DBG] Connection id "0HNISKJK7965I" completed keep alive response.
2026-01-26 13:34:12.672 +07:00 [DBG] Connection id "0HNISKJK7965K" completed keep alive response.
2026-01-26 13:34:12.672 +07:00 [DBG] Connection id "0HNISKJK7965L" completed keep alive response.
2026-01-26 13:34:12.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - 200 154988 text/css 24.401ms
2026-01-26 13:34:12.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - 200 1468327 text/javascript 22.4008ms
2026-01-26 13:34:12.672 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - 200 229224 text/javascript 21.3771ms
2026-01-26 13:34:12.878 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - null null
2026-01-26 13:34:12.878 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2026-01-26 13:34:12.878 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.878 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:12.878 +07:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2026-01-26 13:34:12.878 +07:00 [DBG] Connection id "0HNISKJK7965K" completed keep alive response.
2026-01-26 13:34:12.879 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - 200 665 image/png 0.5847ms
2026-01-26 13:34:12.999 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 13:34:12.999 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 13:34:12.999 +07:00 [DBG] Request did not match any endpoints
2026-01-26 13:34:12.999 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:13.013 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 13:34:13.015 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 13:34:13.329 +07:00 [DBG] Connection id "0HNISKJK7965K" completed keep alive response.
2026-01-26 13:34:13.329 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 329.9733ms
2026-01-26 13:34:17.199 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-01-26 13:34:17.202 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 13:34:17.202 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 13:34:17.203 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 13:34:17.203 +07:00 [INF] CORS policy execution successful.
2026-01-26 13:34:17.203 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:17.204 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 13:34:17.204 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 13:34:17.208 +07:00 [DBG] Connection id "0HNISKJK7965K", Request id "0HNISKJK7965K:00000004": started reading request body.
2026-01-26 13:34:17.208 +07:00 [DBG] Connection id "0HNISKJK7965K", Request id "0HNISKJK7965K:00000004": done reading request body.
2026-01-26 13:34:17.216 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 13:34:17.319 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 13:34:17.837 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 13:34:17.837 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 13:34:17.920 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 13:34:17.966 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 13:34:18.001 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 13:34:18.002 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 13:34:18.198 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 13:34:18.228 +07:00 [DBG] Creating DbConnection.
2026-01-26 13:34:18.231 +07:00 [DBG] Created DbConnection. (2ms).
2026-01-26 13:34:18.233 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:18.234 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:18.236 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 13:34:18.239 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:34:18.240 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-26 13:34:18.245 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 13:34:18.259 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 13:34:18.264 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:18.267 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2026-01-26 13:34:18.269 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:18.270 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:34:18.274 +07:00 [INF] Setting HTTP status code 401.
2026-01-26 13:34:18.275 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 13:34:18.276 +07:00 [DBG] Connection id "0HNISKJK7965K" completed keep alive response.
2026-01-26 13:34:18.277 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 13:34:18.280 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:18.281 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:34:18.281 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 401 0 null 1081.9087ms
2026-01-26 13:34:29.110 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 72
2026-01-26 13:34:29.110 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 13:34:29.110 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 13:34:29.110 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 13:34:29.110 +07:00 [INF] CORS policy execution successful.
2026-01-26 13:34:29.110 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 13:34:29.110 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 13:34:29.110 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 13:34:29.110 +07:00 [DBG] Connection id "0HNISKJK7965K", Request id "0HNISKJK7965K:00000005": started reading request body.
2026-01-26 13:34:29.110 +07:00 [DBG] Connection id "0HNISKJK7965K", Request id "0HNISKJK7965K:00000005": done reading request body.
2026-01-26 13:34:29.168 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 13:34:29.173 +07:00 [DBG] Creating DbConnection.
2026-01-26 13:34:29.173 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 13:34:29.173 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:29.173 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:29.173 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 13:34:29.173 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:34:29.173 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:34:29.174 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 13:34:29.176 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 13:34:29.210 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:29.245 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:29.246 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:29.250 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:29.250 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:29.252 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:29.252 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 76ms reading results.
2026-01-26 13:34:29.252 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:29.252 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:34:29.287 +07:00 [INF] Setting HTTP status code 200.
2026-01-26 13:34:29.289 +07:00 [INF] Writing value of type 'LoginResponse' as Json.
2026-01-26 13:34:29.292 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 13:34:29.292 +07:00 [DBG] Connection id "0HNISKJK7965K" completed keep alive response.
2026-01-26 13:34:29.292 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 13:34:29.292 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:29.292 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:34:29.292 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 200 null application/json; charset=utf-8 182.5482ms
2026-01-26 13:34:37.536 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 13:34:46.575 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 13:34:46.575 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 13:34:46.575 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 13:34:46.605 +07:00 [DBG] Successfully validated the token.
2026-01-26 13:34:46.606 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 13:34:46.609 +07:00 [DBG] Authorization was successful.
2026-01-26 13:34:46.609 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 13:34:46.609 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 13:34:46.669 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 13:34:46.673 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomerReadDTO(c))'
2026-01-26 13:34:46.674 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 13:34:46.674 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 13:34:46.682 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerReadDTO>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c, 
        False, 
        Parameter
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Customer entity;
        PhoneNumber entity;
        EmailAddress entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Customer instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Customer);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Customer)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                        {
                            return 
                            {
                                Customer instance;
                                instance = new Customer();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                instance.<LastName>k__BackingField = dataReader.GetString(3);
                                instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                instance.<Password>k__BackingField = dataReader.GetString(5);
                                instance.<Region>k__BackingField = dataReader.GetString(6);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Customer)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            PhoneNumber instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(PhoneNumber);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (PhoneNumber)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new PhoneNumber(
                                dataReader.GetString(9), 
                                dataReader.GetString(10)
                            );
                        }
                    default: 
                        default(PhoneNumber)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            EmailAddress instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(EmailAddress);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (EmailAddress)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new EmailAddress(dataReader.GetString(11));
                        }
                    default: 
                        default(EmailAddress)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return new CustomerReadDTO(entity);
    }, 
    contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-26 13:34:46.684 +07:00 [DBG] Creating DbConnection.
2026-01-26 13:34:46.685 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 13:34:46.685 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:46.685 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:46.685 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 13:34:46.685 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:34:46.685 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:34:46.685 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 13:34:46.686 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 13:34:46.686 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:46.687 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:46.687 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:46.687 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:46.687 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:34:46.688 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:46.688 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2026-01-26 13:34:46.688 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:46.688 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:34:46.700 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 13:34:46.700 +07:00 [DBG] Connection id "0HNISKJK7965K" completed keep alive response.
2026-01-26 13:34:46.700 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 13:34:46.700 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:34:46.700 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:34:46.700 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 125.4176ms
2026-01-26 13:35:07.546 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 13:35:37.551 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 13:36:07.560 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 13:36:08.587 +07:00 [DBG] Connection id "0HNISKJK7965M" received FIN.
2026-01-26 13:36:08.588 +07:00 [DBG] Connection id "0HNISKJK7965J" received FIN.
2026-01-26 13:36:08.588 +07:00 [DBG] Connection id "0HNISKJK7965I" received FIN.
2026-01-26 13:36:08.588 +07:00 [DBG] Connection id "0HNISKJK7965L" received FIN.
2026-01-26 13:36:08.588 +07:00 [DBG] Connection id "0HNISKJK7965M" disconnecting.
2026-01-26 13:36:08.588 +07:00 [DBG] Connection id "0HNISKJK7965J" disconnecting.
2026-01-26 13:36:08.589 +07:00 [DBG] Connection id "0HNISKJK7965M" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 13:36:08.590 +07:00 [DBG] Connection id "0HNISKJK7965I" disconnecting.
2026-01-26 13:36:08.590 +07:00 [DBG] Connection id "0HNISKJK7965L" disconnecting.
2026-01-26 13:36:08.590 +07:00 [DBG] Connection id "0HNISKJK7965J" stopped.
2026-01-26 13:36:08.590 +07:00 [DBG] Connection id "0HNISKJK7965I" stopped.
2026-01-26 13:36:08.590 +07:00 [DBG] Connection id "0HNISKJK7965L" stopped.
2026-01-26 13:36:08.591 +07:00 [DBG] Connection id "0HNISKJK7965J" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 13:36:08.591 +07:00 [DBG] Connection id "0HNISKJK7965L" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 13:36:08.591 +07:00 [DBG] Connection id "0HNISKJK7965I" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 13:36:08.602 +07:00 [DBG] Connection id "0HNISKJK7965M" stopped.
2026-01-26 13:36:37.568 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 13:36:41.745 +07:00 [DBG] Connection id "0HNISKJK7965K" received FIN.
2026-01-26 13:36:41.745 +07:00 [DBG] Connection id "0HNISKJK7965K" disconnecting.
2026-01-26 13:36:41.745 +07:00 [DBG] Connection id "0HNISKJK7965K" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 13:36:41.760 +07:00 [DBG] Connection id "0HNISKJK7965K" stopped.
2026-01-26 13:36:59.443 +07:00 [DBG] Connection id "0HNISKJK7965N" accepted.
2026-01-26 13:36:59.443 +07:00 [DBG] Connection id "0HNISKJK7965N" started.
2026-01-26 13:36:59.443 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5067/Customer/91398c25-ee81-42c0-aea7-6ec52e15f490 - application/json 166
2026-01-26 13:36:59.443 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer/91398c25-ee81-42c0-aea7-6ec52e15f490'
2026-01-26 13:36:59.444 +07:00 [DBG] Endpoint 'HTTP: PUT /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/91398c25-ee81-42c0-aea7-6ec52e15f490'
2026-01-26 13:36:59.444 +07:00 [DBG] Request matched endpoint 'HTTP: PUT /Customer/{id}'
2026-01-26 13:36:59.444 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 13:36:59.444 +07:00 [INF] CORS policy execution successful.
2026-01-26 13:36:59.445 +07:00 [DBG] Successfully validated the token.
2026-01-26 13:36:59.445 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 13:36:59.447 +07:00 [DBG] Authorization was successful.
2026-01-26 13:36:59.447 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 13:36:59.447 +07:00 [INF] Executing endpoint 'HTTP: PUT /Customer/{id}'
2026-01-26 13:36:59.447 +07:00 [DBG] Connection id "0HNISKJK7965N", Request id "0HNISKJK7965N:00000001": started reading request body.
2026-01-26 13:36:59.447 +07:00 [DBG] Connection id "0HNISKJK7965N", Request id "0HNISKJK7965N:00000001": done reading request body.
2026-01-26 13:36:59.482 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 13:36:59.490 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: @p))'
2026-01-26 13:36:59.491 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 13:36:59.491 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 13:36:59.521 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Id == @p) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Id == @p, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 13:36:59.524 +07:00 [DBG] Creating DbConnection.
2026-01-26 13:36:59.524 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 13:36:59.524 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.524 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.524 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 13:36:59.524 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:36:59.524 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:36:59.524 +07:00 [DBG] Executing DbCommand [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Id" = @p
LIMIT 1
2026-01-26 13:36:59.527 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Id" = @p
LIMIT 1
2026-01-26 13:36:59.527 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.527 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.527 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.527 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.527 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.528 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.528 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-01-26 13:36:59.528 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.528 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:36:59.533 +07:00 [DBG] SaveChanges starting for 'CustomerDb'.
2026-01-26 13:36:59.535 +07:00 [DBG] DetectChanges starting for 'CustomerDb'.
2026-01-26 13:36:59.546 +07:00 [DBG] The unchanged property 'Customer.MembershipLevel' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-01-26 13:36:59.552 +07:00 [DBG] An entity of type 'Customer' tracked by 'CustomerDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.555 +07:00 [DBG] The unchanged property 'Customer.Status' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2026-01-26 13:36:59.557 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.559 +07:00 [DBG] An entity of type 'PhoneNumber' tracked by 'CustomerDb' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.569 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.571 +07:00 [DBG] DetectChanges completed for 'CustomerDb'.
2026-01-26 13:36:59.590 +07:00 [DBG] An entity of type 'EmailAddress' tracked by 'CustomerDb' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.619 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.619 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 13:36:59.620 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:36:59.622 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2026-01-26 13:36:59.622 +07:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Customers" SET "MembershipLevel" = @p0, "Status" = @p1, "CountryCode" = @p2, "PhoneNumber" = @p3
WHERE "Id" = @p4;
2026-01-26 13:36:59.628 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Customers" SET "MembershipLevel" = @p0, "Status" = @p1, "CountryCode" = @p2, "PhoneNumber" = @p3
WHERE "Id" = @p4;
2026-01-26 13:36:59.630 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.631 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-01-26 13:36:59.631 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.631 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:36:59.633 +07:00 [DBG] An entity of type 'PhoneNumber' tracked by 'CustomerDb' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.634 +07:00 [DBG] An entity of type 'PhoneNumber' tracked by 'CustomerDb' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.634 +07:00 [DBG] An entity of type 'Customer' tracked by 'CustomerDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.634 +07:00 [DBG] An entity of type 'EmailAddress' tracked by 'CustomerDb' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:36:59.635 +07:00 [DBG] SaveChanges completed for 'CustomerDb' with 1 entities written to the database.
2026-01-26 13:36:59.643 +07:00 [INF] Executed endpoint 'HTTP: PUT /Customer/{id}'
2026-01-26 13:36:59.643 +07:00 [DBG] Connection id "0HNISKJK7965N" completed keep alive response.
2026-01-26 13:36:59.643 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 13:36:59.643 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:36:59.643 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:36:59.643 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5067/Customer/91398c25-ee81-42c0-aea7-6ec52e15f490 - 200 null application/json; charset=utf-8 200.045ms
2026-01-26 13:37:07.066 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 13:37:07.066 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 13:37:07.066 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 13:37:07.066 +07:00 [DBG] Successfully validated the token.
2026-01-26 13:37:07.066 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 13:37:07.067 +07:00 [DBG] Authorization was successful.
2026-01-26 13:37:07.067 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 13:37:07.067 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 13:37:07.070 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 13:37:07.071 +07:00 [DBG] Creating DbConnection.
2026-01-26 13:37:07.071 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 13:37:07.071 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:37:07.071 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:37:07.071 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 13:37:07.071 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:37:07.071 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 13:37:07.072 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 13:37:07.073 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 13:37:07.073 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:37:07.073 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:37:07.073 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:37:07.073 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:37:07.073 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 13:37:07.073 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:37:07.074 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2026-01-26 13:37:07.074 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:37:07.074 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:37:07.076 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 13:37:07.076 +07:00 [DBG] Connection id "0HNISKJK7965N" completed keep alive response.
2026-01-26 13:37:07.076 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 13:37:07.076 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 13:37:07.076 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 13:37:07.076 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 10.1278ms
2026-01-26 13:37:07.573 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 13:37:37.584 +07:00 [DBG] Server desktop-l31jdro:13364:880172f2 heartbeat successfully sent
2026-01-26 14:48:11.150 +07:00 [INF] Starting the API...
2026-01-26 14:48:11.741 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 14:48:11.844 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 14:48:11.857 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-01-26 14:48:11.857 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-01-26 14:48:11.857 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-01-26 14:48:11.857 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-01-26 14:48:11.902 +07:00 [DBG] Hosting starting
2026-01-26 14:48:11.920 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 14:48:11.926 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 14:48:11.932 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 14:48:11.939 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 14:48:11.940 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 14:48:11.941 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 14:48:11.942 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 14:48:11.943 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 14:48:11.945 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 14:48:11.945 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 14:48:11.946 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 14:48:11.948 +07:00 [DBG] Middleware loaded
2026-01-26 14:48:11.950 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 14:48:11.953 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 14:48:12.032 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 14:48:12.033 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 14:48:12.033 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 14:48:12.041 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 14:48:12.041 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 14:48:12.042 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 14:48:12.045 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 14:48:12.046 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 14:48:12.046 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 14:48:12.046 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 14:48:12.046 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 14:48:12.046 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 14:48:12.054 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 14:48:12.055 +07:00 [INF] Hosting environment: Development
2026-01-26 14:48:12.055 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 14:48:12.055 +07:00 [DBG] Hosting started
2026-01-26 14:48:12.061 +07:00 [DBG] Execution loop BackgroundServerProcess:2f91e04e has started in 3.1316 ms
2026-01-26 14:48:12.161 +07:00 [INF] Server desktop-l31jdro:30472:b2dd9068 successfully announced in 97.0252 ms
2026-01-26 14:48:12.163 +07:00 [DBG] Execution loop ServerHeartbeatProcess:9cf5e415 has started in 1.6729 ms
2026-01-26 14:48:12.164 +07:00 [INF] Server desktop-l31jdro:30472:b2dd9068 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 14:48:12.165 +07:00 [DBG] Execution loop ServerWatchdog:e850a0bc has started in 1.3951 ms
2026-01-26 14:48:12.166 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:9f954fa5 has started in 1.2709 ms
2026-01-26 14:48:12.168 +07:00 [DBG] Execution loop ExpirationManager:dddf9fbb has started in 1.2467 ms
2026-01-26 14:48:12.169 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 14:48:12.169 +07:00 [DBG] Execution loop CountersAggregator:2236f3fe has started in 0.9589 ms
2026-01-26 14:48:12.169 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 14:48:12.170 +07:00 [DBG] Execution loop Worker:c25ec5ae has started in 0.8503 ms
2026-01-26 14:48:12.170 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 14:48:12.172 +07:00 [DBG] Execution loop Worker:74ff43e1 has started in 3.09 ms
2026-01-26 14:48:12.173 +07:00 [DBG] Execution loop Worker:a81a97ec has started in 4.3093 ms
2026-01-26 14:48:12.174 +07:00 [DBG] Execution loop Worker:da17183b has started in 5.1154 ms
2026-01-26 14:48:12.175 +07:00 [DBG] Execution loop Worker:72fb9b77 has started in 5.7957 ms
2026-01-26 14:48:12.176 +07:00 [DBG] Execution loop Worker:65473e95 has started in 7.1622 ms
2026-01-26 14:48:12.182 +07:00 [DBG] Execution loop Worker:8940f612 has started in 12.7916 ms
2026-01-26 14:48:12.185 +07:00 [DBG] Execution loop Worker:8bab17ba has started in 15.6265 ms
2026-01-26 14:48:12.186 +07:00 [DBG] Execution loop Worker:27b7547d has started in 17.3706 ms
2026-01-26 14:48:12.188 +07:00 [DBG] Execution loop Worker:4ffe3a78 has started in 18.9067 ms
2026-01-26 14:48:12.190 +07:00 [DBG] Execution loop Worker:57c7c59d has started in 20.8056 ms
2026-01-26 14:48:12.192 +07:00 [DBG] Execution loop Worker:c99439c6 has started in 23.1673 ms
2026-01-26 14:48:12.194 +07:00 [DBG] Execution loop Worker:62ea11c5 has started in 25.1924 ms
2026-01-26 14:48:12.197 +07:00 [DBG] Execution loop Worker:cef20e48 has started in 28.569 ms
2026-01-26 14:48:12.203 +07:00 [DBG] Execution loop Worker:8197487d has started in 34.4828 ms
2026-01-26 14:48:12.209 +07:00 [DBG] Execution loop Worker:4e21aa10 has started in 40.0662 ms
2026-01-26 14:48:12.210 +07:00 [DBG] Execution loop Worker:858fab40 has started in 41.5569 ms
2026-01-26 14:48:12.213 +07:00 [DBG] Execution loop Worker:da8c767e has started in 44.3643 ms
2026-01-26 14:48:12.216 +07:00 [DBG] Execution loop Worker:ad710a85 has started in 47.369 ms
2026-01-26 14:48:12.219 +07:00 [DBG] Execution loop Worker:4da34e9a has started in 50.0536 ms
2026-01-26 14:48:12.227 +07:00 [DBG] Execution loop DelayedJobScheduler:0d624db4 has started in 7.8405 ms
2026-01-26 14:48:12.234 +07:00 [DBG] Execution loop RecurringJobScheduler:7ffe0e00 has started in 6.8749 ms
2026-01-26 14:48:12.234 +07:00 [INF] Server desktop-l31jdro:30472:b2dd9068 all the dispatchers started
2026-01-26 14:48:12.383 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 14:48:12.407 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 14:48:12.417 +07:00 [DBG] Connection id "0HNISLT0QSUUN" accepted.
2026-01-26 14:48:12.418 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 14:48:12.418 +07:00 [DBG] Connection id "0HNISLT0QSUUN" started.
2026-01-26 14:48:12.425 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 14:48:12.434 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 14:48:12.441 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 14:48:12.474 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 14:48:12.474 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:12.500 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:12.503 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 14:48:12.507 +07:00 [DBG] Connection id "0HNISLT0QSUUN" completed keep alive response.
2026-01-26 14:48:12.508 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 66.7636ms
2026-01-26 14:48:12.510 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 14:48:12.560 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-01-26 14:48:12.561 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-01-26 14:48:12.562 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:12.564 +07:00 [DBG] Connection id "0HNISLT0QSUUN" received FIN.
2026-01-26 14:48:12.565 +07:00 [DBG] Connection id "0HNISLT0QSUUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 14:48:12.565 +07:00 [DBG] Connection id "0HNISLT0QSUUN" disconnecting.
2026-01-26 14:48:13.332 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:13.332 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 14:48:13.333 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 499 null null 772.1878ms
2026-01-26 14:48:13.333 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 499
2026-01-26 14:48:13.334 +07:00 [DBG] Connection id "0HNISLT0QSUUN" stopped.
2026-01-26 14:48:20.106 +07:00 [DBG] Connection id "0HNISLT0QSUUO" accepted.
2026-01-26 14:48:20.107 +07:00 [DBG] Connection id "0HNISLT0QSUUO" started.
2026-01-26 14:48:20.107 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 14:48:20.108 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 14:48:20.108 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.111 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.115 +07:00 [DBG] Connection id "0HNISLT0QSUUO" completed keep alive response.
2026-01-26 14:48:20.115 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 7.9209ms
2026-01-26 14:48:20.175 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 14:48:20.175 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 14:48:20.175 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.175 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.189 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 14:48:20.195 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 14:48:20.195 +07:00 [DBG] Connection id "0HNISLT0QSUUO" completed keep alive response.
2026-01-26 14:48:20.195 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 19.55ms
2026-01-26 14:48:20.239 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - null null
2026-01-26 14:48:20.239 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2026-01-26 14:48:20.239 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.239 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.239 +07:00 [DBG] Connection id "0HNISLT0QSUUP" accepted.
2026-01-26 14:48:20.239 +07:00 [DBG] Connection id "0HNISLT0QSUUP" started.
2026-01-26 14:48:20.240 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.css - null null
2026-01-26 14:48:20.240 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2026-01-26 14:48:20.240 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.240 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.241 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" accepted.
2026-01-26 14:48:20.241 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" started.
2026-01-26 14:48:20.241 +07:00 [DBG] Connection id "0HNISLT0QSUUR" accepted.
2026-01-26 14:48:20.241 +07:00 [DBG] Connection id "0HNISLT0QSUUR" started.
2026-01-26 14:48:20.241 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - null null
2026-01-26 14:48:20.242 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2026-01-26 14:48:20.242 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - null null
2026-01-26 14:48:20.242 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.242 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2026-01-26 14:48:20.242 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.242 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.242 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.242 +07:00 [DBG] Connection id "0HNISLT0QSUUS" accepted.
2026-01-26 14:48:20.245 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2026-01-26 14:48:20.245 +07:00 [DBG] Connection id "0HNISLT0QSUUP" completed keep alive response.
2026-01-26 14:48:20.245 +07:00 [DBG] Connection id "0HNISLT0QSUUS" started.
2026-01-26 14:48:20.245 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.css - 200 218 text/css 4.9428ms
2026-01-26 14:48:20.245 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 14:48:20.247 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 14:48:20.248 +07:00 [DBG] Connection id "0HNISLT0QSUUS" completed keep alive response.
2026-01-26 14:48:20.248 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 2.6341ms
2026-01-26 14:48:20.253 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2026-01-26 14:48:20.253 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-01-26 14:48:20.256 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-01-26 14:48:20.258 +07:00 [DBG] Connection id "0HNISLT0QSUUR" completed keep alive response.
2026-01-26 14:48:20.258 +07:00 [DBG] Connection id "0HNISLT0QSUUO" completed keep alive response.
2026-01-26 14:48:20.258 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" completed keep alive response.
2026-01-26 14:48:20.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - 200 1468327 text/javascript 16.535ms
2026-01-26 14:48:20.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - 200 154988 text/css 19.5375ms
2026-01-26 14:48:20.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - 200 229224 text/javascript 16.5759ms
2026-01-26 14:48:20.491 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 14:48:20.492 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 14:48:20.492 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.492 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.494 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 14:48:20.496 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 14:48:20.586 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - null null
2026-01-26 14:48:20.587 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2026-01-26 14:48:20.587 +07:00 [DBG] Request did not match any endpoints
2026-01-26 14:48:20.587 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 14:48:20.587 +07:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2026-01-26 14:48:20.587 +07:00 [DBG] Connection id "0HNISLT0QSUUR" completed keep alive response.
2026-01-26 14:48:20.587 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - 200 665 image/png 0.7321ms
2026-01-26 14:48:20.820 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" completed keep alive response.
2026-01-26 14:48:20.820 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 328.781ms
2026-01-26 14:48:42.189 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:49:12.216 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:49:42.244 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:50:12.270 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:50:15.770 +07:00 [DBG] Connection id "0HNISLT0QSUUR" received FIN.
2026-01-26 14:50:15.771 +07:00 [DBG] Connection id "0HNISLT0QSUUO" received FIN.
2026-01-26 14:50:15.771 +07:00 [DBG] Connection id "0HNISLT0QSUUP" received FIN.
2026-01-26 14:50:15.771 +07:00 [DBG] Connection id "0HNISLT0QSUUR" disconnecting.
2026-01-26 14:50:15.771 +07:00 [DBG] Connection id "0HNISLT0QSUUR" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 14:50:15.771 +07:00 [DBG] Connection id "0HNISLT0QSUUO" disconnecting.
2026-01-26 14:50:15.771 +07:00 [DBG] Connection id "0HNISLT0QSUUO" stopped.
2026-01-26 14:50:15.773 +07:00 [DBG] Connection id "0HNISLT0QSUUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 14:50:15.773 +07:00 [DBG] Connection id "0HNISLT0QSUUS" received FIN.
2026-01-26 14:50:15.773 +07:00 [DBG] Connection id "0HNISLT0QSUUP" disconnecting.
2026-01-26 14:50:15.773 +07:00 [DBG] Connection id "0HNISLT0QSUUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 14:50:15.773 +07:00 [DBG] Connection id "0HNISLT0QSUUS" disconnecting.
2026-01-26 14:50:15.773 +07:00 [DBG] Connection id "0HNISLT0QSUUS" stopped.
2026-01-26 14:50:15.774 +07:00 [DBG] Connection id "0HNISLT0QSUUS" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 14:50:15.774 +07:00 [DBG] Connection id "0HNISLT0QSUUP" stopped.
2026-01-26 14:50:15.785 +07:00 [DBG] Connection id "0HNISLT0QSUUR" stopped.
2026-01-26 14:50:16.785 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" received FIN.
2026-01-26 14:50:16.785 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" disconnecting.
2026-01-26 14:50:16.785 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 14:50:16.799 +07:00 [DBG] Connection id "0HNISLT0QSUUQ" stopped.
2026-01-26 14:50:42.293 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:51:12.312 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:51:42.342 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:52:12.357 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:52:42.365 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:53:12.364 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 14:53:12.393 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:53:42.420 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:54:12.443 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:54:42.473 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:55:12.488 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:55:42.507 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:56:12.525 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:56:42.534 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:57:12.553 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:57:42.579 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:58:12.368 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 14:58:12.659 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:58:42.666 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:59:12.683 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 14:59:42.700 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:00:12.708 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:00:42.734 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:01:12.762 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:01:42.789 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:02:12.812 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:02:42.823 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:03:12.385 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:03:12.843 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:03:42.861 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:04:12.890 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:04:42.909 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:05:12.929 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:05:42.959 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:06:12.985 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:06:43.000 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:07:13.017 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:07:43.040 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:08:12.395 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:08:13.063 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:08:43.086 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:09:13.109 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:09:43.127 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:10:13.155 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:10:43.181 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:11:13.196 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:11:43.217 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:12:13.238 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:12:43.264 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:13:12.404 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:13:13.291 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:13:43.301 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:14:13.326 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:14:43.352 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:15:13.368 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:15:43.387 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:16:13.404 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:16:43.423 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:17:13.443 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:17:43.459 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:18:12.408 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:18:13.483 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:18:43.505 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:19:13.521 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:19:43.545 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:20:13.560 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:20:43.565 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:21:13.586 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:21:43.595 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:22:13.610 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:22:43.626 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:23:12.425 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:23:13.641 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:23:43.647 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:24:13.655 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:24:43.664 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:25:13.689 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:25:43.710 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:26:13.738 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:26:43.753 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:27:13.778 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:27:43.795 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:28:12.436 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:28:13.816 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:28:43.830 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:29:13.848 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:29:43.874 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:30:13.895 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:30:43.915 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:31:13.932 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:31:43.955 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:32:13.972 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:32:43.998 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:33:12.443 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:33:14.015 +07:00 [DBG] Server desktop-l31jdro:30472:b2dd9068 heartbeat successfully sent
2026-01-26 15:33:44.900 +07:00 [INF] Starting the API...
2026-01-26 15:33:45.426 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 15:33:45.494 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 15:33:45.505 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-01-26 15:33:45.505 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-01-26 15:33:45.505 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-01-26 15:33:45.505 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-01-26 15:33:45.547 +07:00 [DBG] Hosting starting
2026-01-26 15:33:45.564 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 15:33:45.569 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 15:33:45.575 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 15:33:45.582 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 15:33:45.584 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 15:33:45.585 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 15:33:45.586 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 15:33:45.587 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 15:33:45.588 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 15:33:45.589 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 15:33:45.589 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 15:33:45.592 +07:00 [DBG] Middleware loaded
2026-01-26 15:33:45.594 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 15:33:45.596 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 15:33:45.678 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 15:33:45.679 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 15:33:45.679 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 15:33:46.128 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 15:33:46.128 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 15:33:46.129 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 15:33:46.133 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 15:33:46.133 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 15:33:46.134 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 15:33:46.134 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 15:33:46.134 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 15:33:46.134 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 15:33:46.143 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 15:33:46.143 +07:00 [INF] Hosting environment: Development
2026-01-26 15:33:46.143 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 15:33:46.143 +07:00 [DBG] Hosting started
2026-01-26 15:33:46.150 +07:00 [DBG] Execution loop BackgroundServerProcess:4322c32a has started in 3.5813 ms
2026-01-26 15:33:46.246 +07:00 [INF] Server desktop-l31jdro:10788:eaddb7d6 successfully announced in 93.3965 ms
2026-01-26 15:33:46.250 +07:00 [DBG] Execution loop ServerHeartbeatProcess:f921cd0e has started in 2.4227 ms
2026-01-26 15:33:46.251 +07:00 [INF] Server desktop-l31jdro:10788:eaddb7d6 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 15:33:46.252 +07:00 [DBG] Execution loop ServerWatchdog:c0ab5745 has started in 1.4449 ms
2026-01-26 15:33:46.254 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:77e8380d has started in 1.3607 ms
2026-01-26 15:33:46.255 +07:00 [DBG] Execution loop ExpirationManager:39bbc522 has started in 1.4271 ms
2026-01-26 15:33:46.257 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 15:33:46.257 +07:00 [DBG] Execution loop CountersAggregator:422efaf3 has started in 1.198 ms
2026-01-26 15:33:46.257 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:33:46.258 +07:00 [DBG] Execution loop Worker:065b1380 has started in 1.6015 ms
2026-01-26 15:33:46.260 +07:00 [DBG] Execution loop Worker:bf4c8f64 has started in 3.6301 ms
2026-01-26 15:33:46.266 +07:00 [DBG] Execution loop Worker:a616d934 has started in 7.8693 ms
2026-01-26 15:33:46.268 +07:00 [DBG] Execution loop Worker:6aa577dd has started in 11.6983 ms
2026-01-26 15:33:46.270 +07:00 [DBG] Execution loop Worker:9d7e9958 has started in 12.9842 ms
2026-01-26 15:33:46.272 +07:00 [DBG] Execution loop Worker:e33ac5ea has started in 15.461 ms
2026-01-26 15:33:46.278 +07:00 [DBG] Execution loop Worker:3441294b has started in 20.9338 ms
2026-01-26 15:33:46.289 +07:00 [DBG] Execution loop Worker:0b6a8ac0 has started in 31.8104 ms
2026-01-26 15:33:46.294 +07:00 [DBG] Execution loop Worker:04060e0a has started in 37.5416 ms
2026-01-26 15:33:46.298 +07:00 [DBG] Execution loop Worker:21380501 has started in 41.6517 ms
2026-01-26 15:33:46.302 +07:00 [DBG] Execution loop Worker:d27ad22f has started in 45.0214 ms
2026-01-26 15:33:46.306 +07:00 [DBG] Execution loop Worker:81632f9a has started in 49.4505 ms
2026-01-26 15:33:46.311 +07:00 [DBG] Execution loop Worker:ad769bd9 has started in 54.085 ms
2026-01-26 15:33:46.314 +07:00 [DBG] Execution loop Worker:86addb5c has started in 57.3748 ms
2026-01-26 15:33:46.325 +07:00 [DBG] Execution loop Worker:57223f58 has started in 68.8393 ms
2026-01-26 15:33:46.348 +07:00 [DBG] Execution loop Worker:913116f9 has started in 91.5609 ms
2026-01-26 15:33:46.361 +07:00 [DBG] Execution loop Worker:fefefd97 has started in 104.4973 ms
2026-01-26 15:33:46.394 +07:00 [DBG] Execution loop Worker:bdca7d68 has started in 137.1854 ms
2026-01-26 15:33:46.435 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 15:33:46.437 +07:00 [DBG] Execution loop Worker:f6976420 has started in 180.1738 ms
2026-01-26 15:33:46.452 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 15:33:46.456 +07:00 [DBG] Execution loop Worker:0733587b has started in 199.2176 ms
2026-01-26 15:33:46.470 +07:00 [DBG] Execution loop DelayedJobScheduler:05cbe461 has started in 13.8509 ms
2026-01-26 15:33:46.473 +07:00 [DBG] Execution loop RecurringJobScheduler:fdf00283 has started in 2.2536 ms
2026-01-26 15:33:46.473 +07:00 [INF] Server desktop-l31jdro:10788:eaddb7d6 all the dispatchers started
2026-01-26 15:33:46.483 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 15:33:46.494 +07:00 [DBG] Connection id "0HNISMMFL2OUI" accepted.
2026-01-26 15:33:46.495 +07:00 [DBG] Connection id "0HNISMMFL2OUI" started.
2026-01-26 15:33:46.504 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 15:33:46.513 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 15:33:46.533 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 15:33:46.576 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 15:33:46.576 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:33:46.595 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:33:46.598 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 15:33:46.601 +07:00 [DBG] Connection id "0HNISMMFL2OUI" completed keep alive response.
2026-01-26 15:33:46.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 69.7953ms
2026-01-26 15:33:46.606 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 15:33:46.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-01-26 15:33:46.655 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-01-26 15:33:46.656 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:33:46.658 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:33:46.658 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 15:33:46.658 +07:00 [DBG] Connection id "0HNISMMFL2OUI" completed keep alive response.
2026-01-26 15:33:46.658 +07:00 [DBG] Connection id "0HNISMMFL2OUI" received FIN.
2026-01-26 15:33:46.658 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 404 0 null 3.8809ms
2026-01-26 15:33:46.658 +07:00 [DBG] Connection id "0HNISMMFL2OUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 15:33:46.659 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 404
2026-01-26 15:33:46.659 +07:00 [DBG] Connection id "0HNISMMFL2OUI" disconnecting.
2026-01-26 15:33:46.661 +07:00 [DBG] Connection id "0HNISMMFL2OUI" stopped.
2026-01-26 15:33:50.508 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" accepted.
2026-01-26 15:33:50.508 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" started.
2026-01-26 15:33:50.509 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 15:33:50.510 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 15:33:50.510 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:33:50.512 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:33:50.515 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:33:50.515 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 5.8835ms
2026-01-26 15:33:50.559 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 15:33:50.559 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 15:33:50.559 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:33:50.559 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:33:50.577 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 15:33:50.582 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 15:33:50.582 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:33:50.582 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 23.3911ms
2026-01-26 15:33:50.634 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 15:33:50.635 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 15:33:50.635 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:33:50.635 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 1.787ms
2026-01-26 15:33:50.893 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 15:33:50.893 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 15:33:50.894 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:33:50.894 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:33:50.896 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 15:33:50.898 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 15:33:51.300 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:33:51.300 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 406.8786ms
2026-01-26 15:33:57.364 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer/export-csv - null null
2026-01-26 15:33:57.366 +07:00 [DBG] 2 candidate(s) found for the request path '/Customer/export-csv'
2026-01-26 15:33:57.367 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/export-csv' with route pattern '/Customer/export-csv' is valid for the request path '/Customer/export-csv'
2026-01-26 15:33:57.367 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/export-csv'
2026-01-26 15:33:57.367 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/export-csv'
2026-01-26 15:33:57.368 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:33:57.369 +07:00 [DBG] Policy authentication schemes  did not succeed
2026-01-26 15:33:57.371 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-01-26 15:33:57.373 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-01-26 15:33:57.373 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:33:57.373 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer/export-csv - 401 0 null 9.5173ms
2026-01-26 15:34:15.968 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 72
2026-01-26 15:34:15.968 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 15:34:15.969 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 15:34:15.969 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 15:34:15.969 +07:00 [INF] CORS policy execution successful.
2026-01-26 15:34:15.970 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:34:15.970 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:34:15.971 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 15:34:15.974 +07:00 [DBG] Connection id "0HNISMMFL2OUJ", Request id "0HNISMMFL2OUJ:00000006": started reading request body.
2026-01-26 15:34:15.974 +07:00 [DBG] Connection id "0HNISMMFL2OUJ", Request id "0HNISMMFL2OUJ:00000006": done reading request body.
2026-01-26 15:34:15.982 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 15:34:16.053 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 15:34:16.267 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:34:16.516 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 15:34:16.516 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 15:34:16.609 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 15:34:16.653 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 15:34:16.686 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 15:34:16.686 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 15:34:16.882 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 15:34:16.912 +07:00 [DBG] Creating DbConnection.
2026-01-26 15:34:16.915 +07:00 [DBG] Created DbConnection. (1ms).
2026-01-26 15:34:16.917 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:16.918 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:16.920 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 15:34:16.923 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 15:34:16.924 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-26 15:34:16.930 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 15:34:16.943 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 15:34:16.976 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:17.011 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:17.012 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:17.016 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:17.016 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:17.021 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:17.025 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 78ms reading results.
2026-01-26 15:34:17.027 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:17.027 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:34:17.049 +07:00 [INF] Setting HTTP status code 200.
2026-01-26 15:34:17.052 +07:00 [INF] Writing value of type 'LoginResponse' as Json.
2026-01-26 15:34:17.055 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 15:34:17.057 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:34:17.058 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 15:34:17.061 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:17.062 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:34:17.062 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 200 null application/json; charset=utf-8 1093.4934ms
2026-01-26 15:34:37.517 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer/export-csv - null null
2026-01-26 15:34:37.518 +07:00 [DBG] 2 candidate(s) found for the request path '/Customer/export-csv'
2026-01-26 15:34:37.518 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/export-csv' with route pattern '/Customer/export-csv' is valid for the request path '/Customer/export-csv'
2026-01-26 15:34:37.518 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/export-csv'
2026-01-26 15:34:37.519 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/export-csv'
2026-01-26 15:34:37.548 +07:00 [DBG] Successfully validated the token.
2026-01-26 15:34:37.549 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 15:34:37.551 +07:00 [DBG] Authorization was successful.
2026-01-26 15:34:37.551 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:34:37.551 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/export-csv'
2026-01-26 15:34:37.631 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 15:34:37.634 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomerReadDTO(c))'
2026-01-26 15:34:37.635 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 15:34:37.635 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 15:34:37.642 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerReadDTO>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c, 
        False, 
        Parameter
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Customer entity;
        PhoneNumber entity;
        EmailAddress entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Customer instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Customer);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Customer)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                        {
                            return 
                            {
                                Customer instance;
                                instance = new Customer();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                instance.<LastName>k__BackingField = dataReader.GetString(3);
                                instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                instance.<Password>k__BackingField = dataReader.GetString(5);
                                instance.<Region>k__BackingField = dataReader.GetString(6);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Customer)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            PhoneNumber instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(PhoneNumber);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (PhoneNumber)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new PhoneNumber(
                                dataReader.GetString(9), 
                                dataReader.GetString(10)
                            );
                        }
                    default: 
                        default(PhoneNumber)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            EmailAddress instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(EmailAddress);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (EmailAddress)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new EmailAddress(dataReader.GetString(11));
                        }
                    default: 
                        default(EmailAddress)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return new CustomerReadDTO(entity);
    }, 
    contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-26 15:34:37.645 +07:00 [DBG] Creating DbConnection.
2026-01-26 15:34:37.645 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 15:34:37.645 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:37.645 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:37.645 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 15:34:37.646 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 15:34:37.646 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 15:34:37.646 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 15:34:37.647 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 15:34:37.648 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:37.648 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:37.648 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:37.648 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:37.648 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:34:37.649 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:37.649 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-01-26 15:34:37.649 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:37.649 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:34:37.732 +07:00 [INF] Sending file with download name 'Customers.csv'.
2026-01-26 15:34:37.733 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-01-26 15:34:37.734 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/export-csv'
2026-01-26 15:34:37.734 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:34:37.734 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 15:34:37.734 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:34:37.734 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:34:37.734 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer/export-csv - 200 157 text/csv 216.7234ms
2026-01-26 15:34:46.289 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:35:16.308 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:35:21.949 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer/export - null null
2026-01-26 15:35:21.949 +07:00 [DBG] 2 candidate(s) found for the request path '/Customer/export'
2026-01-26 15:35:21.949 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/export' with route pattern '/Customer/export' is valid for the request path '/Customer/export'
2026-01-26 15:35:21.949 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/export'
2026-01-26 15:35:21.949 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:35:21.950 +07:00 [DBG] Successfully validated the token.
2026-01-26 15:35:21.950 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 15:35:21.951 +07:00 [DBG] Authorization was successful.
2026-01-26 15:35:21.951 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:35:21.951 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:35:22.907 +07:00 [INF] Sending file with download name 'Customers.xlsx'.
2026-01-26 15:35:22.907 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-01-26 15:35:22.907 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:35:22.907 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:35:22.907 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer/export - 200 6277 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 958.6276ms
2026-01-26 15:35:46.323 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:36:00.984 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-01-26 15:36:00.984 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-01-26 15:36:00.984 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-01-26 15:36:00.985 +07:00 [DBG] Successfully validated the token.
2026-01-26 15:36:00.985 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 15:36:00.985 +07:00 [DBG] Authorization was successful.
2026-01-26 15:36:00.985 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:36:00.985 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/'
2026-01-26 15:36:00.989 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/'
2026-01-26 15:36:00.989 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:36:00.989 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 200 null application/json; charset=utf-8 5.1715ms
2026-01-26 15:36:09.916 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer/export - null null
2026-01-26 15:36:09.916 +07:00 [DBG] 2 candidate(s) found for the request path '/Customer/export'
2026-01-26 15:36:09.916 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/export' with route pattern '/Customer/export' is valid for the request path '/Customer/export'
2026-01-26 15:36:09.917 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/export'
2026-01-26 15:36:09.917 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:36:09.917 +07:00 [DBG] Successfully validated the token.
2026-01-26 15:36:09.917 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 15:36:09.917 +07:00 [DBG] Authorization was successful.
2026-01-26 15:36:09.917 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:36:09.917 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:36:09.927 +07:00 [INF] Sending file with download name 'Customers.xlsx'.
2026-01-26 15:36:09.927 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-01-26 15:36:09.927 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:36:09.927 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" completed keep alive response.
2026-01-26 15:36:09.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer/export - 200 6277 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 10.6834ms
2026-01-26 15:36:16.353 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:36:46.381 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:37:16.409 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:37:46.427 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:38:05.677 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" received FIN.
2026-01-26 15:38:05.678 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 15:38:05.679 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" disconnecting.
2026-01-26 15:38:05.692 +07:00 [DBG] Connection id "0HNISMMFL2OUJ" stopped.
2026-01-26 15:38:16.455 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:38:46.284 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:38:46.333 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 15:38:46.473 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:39:16.493 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:39:46.515 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:40:16.542 +07:00 [DBG] Server desktop-l31jdro:10788:eaddb7d6 heartbeat successfully sent
2026-01-26 15:40:44.918 +07:00 [INF] Starting the API...
2026-01-26 15:40:45.466 +07:00 [INF] Start installing Hangfire SQL objects...
2026-01-26 15:40:45.536 +07:00 [INF] Hangfire SQL objects installed.
2026-01-26 15:40:45.548 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-01-26 15:40:45.548 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-01-26 15:40:45.548 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-01-26 15:40:45.548 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-01-26 15:40:45.594 +07:00 [DBG] Hosting starting
2026-01-26 15:40:45.614 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-26 15:40:45.619 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-01-26 15:40:45.626 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-01-26 15:40:45.633 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-01-26 15:40:45.635 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 15:40:45.636 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-01-26 15:40:45.637 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-01-26 15:40:45.638 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-01-26 15:40:45.640 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-01-26 15:40:45.640 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-01-26 15:40:45.641 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-01-26 15:40:45.644 +07:00 [DBG] Middleware loaded
2026-01-26 15:40:45.646 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16459 B).
2026-01-26 15:40:45.649 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-01-26 15:40:45.740 +07:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2026-01-26 15:40:45.740 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-01-26 15:40:45.741 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-01-26 15:40:45.749 +07:00 [INF] Now listening on: http://localhost:5067
2026-01-26 15:40:45.749 +07:00 [DBG] Loaded hosting startup assembly API
2026-01-26 15:40:45.750 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-01-26 15:40:45.754 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-01-26 15:40:45.754 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-01-26 15:40:45.754 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-01-26 15:40:45.754 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-01-26 15:40:45.754 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-01-26 15:40:45.755 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-01-26 15:40:45.765 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-26 15:40:45.765 +07:00 [INF] Hosting environment: Development
2026-01-26 15:40:45.765 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-01-26 15:40:45.765 +07:00 [DBG] Hosting started
2026-01-26 15:40:45.772 +07:00 [DBG] Execution loop BackgroundServerProcess:6c957a09 has started in 3.5983 ms
2026-01-26 15:40:45.912 +07:00 [INF] Server desktop-l31jdro:15776:25421dac successfully announced in 136.5004 ms
2026-01-26 15:40:45.915 +07:00 [DBG] Execution loop ServerHeartbeatProcess:2f138bfc has started in 2.2126 ms
2026-01-26 15:40:45.916 +07:00 [INF] Server desktop-l31jdro:15776:25421dac is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-01-26 15:40:45.917 +07:00 [DBG] Execution loop ServerWatchdog:15b70941 has started in 1.2327 ms
2026-01-26 15:40:45.918 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:ddb68876 has started in 1.0114 ms
2026-01-26 15:40:45.920 +07:00 [DBG] Execution loop ExpirationManager:ae6900ae has started in 1.4614 ms
2026-01-26 15:40:45.921 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-01-26 15:40:45.921 +07:00 [DBG] Execution loop CountersAggregator:f774d251 has started in 1.2173 ms
2026-01-26 15:40:45.922 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:40:45.923 +07:00 [DBG] Execution loop Worker:5b2ff143 has started in 1.3404 ms
2026-01-26 15:40:45.926 +07:00 [DBG] Execution loop Worker:eee715cc has started in 4.4977 ms
2026-01-26 15:40:45.929 +07:00 [DBG] Execution loop Worker:10a56951 has started in 7.808 ms
2026-01-26 15:40:45.931 +07:00 [DBG] Execution loop Worker:3ca2803d has started in 9.7042 ms
2026-01-26 15:40:45.933 +07:00 [DBG] Execution loop Worker:059c58f8 has started in 11.2388 ms
2026-01-26 15:40:45.934 +07:00 [DBG] Execution loop Worker:dafc7896 has started in 12.6424 ms
2026-01-26 15:40:45.940 +07:00 [DBG] Execution loop Worker:286fb8af has started in 18.4992 ms
2026-01-26 15:40:45.944 +07:00 [DBG] Execution loop Worker:4826877f has started in 22.1336 ms
2026-01-26 15:40:45.946 +07:00 [DBG] Execution loop Worker:bb6657ae has started in 24.7113 ms
2026-01-26 15:40:45.948 +07:00 [DBG] Execution loop Worker:67a5855e has started in 26.5109 ms
2026-01-26 15:40:45.950 +07:00 [DBG] Execution loop Worker:c60b877d has started in 28.9641 ms
2026-01-26 15:40:45.952 +07:00 [DBG] Execution loop Worker:39d443dc has started in 30.9345 ms
2026-01-26 15:40:45.955 +07:00 [DBG] Execution loop Worker:e39d7639 has started in 33.271 ms
2026-01-26 15:40:45.957 +07:00 [DBG] Execution loop Worker:b81ddca8 has started in 35.5878 ms
2026-01-26 15:40:45.960 +07:00 [DBG] Execution loop Worker:276f8095 has started in 38.4319 ms
2026-01-26 15:40:45.963 +07:00 [DBG] Execution loop Worker:69f53dc7 has started in 41.6962 ms
2026-01-26 15:40:45.967 +07:00 [DBG] Execution loop Worker:c9ebbc7b has started in 45.3409 ms
2026-01-26 15:40:45.969 +07:00 [DBG] Execution loop Worker:d6595208 has started in 47.7863 ms
2026-01-26 15:40:45.971 +07:00 [DBG] Execution loop Worker:947e93e2 has started in 49.4425 ms
2026-01-26 15:40:45.973 +07:00 [DBG] Execution loop Worker:aedc4258 has started in 51.8232 ms
2026-01-26 15:40:45.979 +07:00 [DBG] Execution loop DelayedJobScheduler:591d4e99 has started in 5.2594 ms
2026-01-26 15:40:45.983 +07:00 [DBG] Execution loop RecurringJobScheduler:ce98fc0b has started in 4.4829 ms
2026-01-26 15:40:45.983 +07:00 [INF] Server desktop-l31jdro:15776:25421dac all the dispatchers started
2026-01-26 15:40:46.093 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-01-26 15:40:46.134 +07:00 [DBG] Removing outdated records from table 'job'...
2026-01-26 15:40:46.155 +07:00 [DBG] Removing outdated records from table 'list'...
2026-01-26 15:40:46.163 +07:00 [DBG] Connection id "0HNISMQCNBSB1" accepted.
2026-01-26 15:40:46.165 +07:00 [DBG] Removing outdated records from table 'set'...
2026-01-26 15:40:46.165 +07:00 [DBG] Connection id "0HNISMQCNBSB1" started.
2026-01-26 15:40:46.171 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-01-26 15:40:46.190 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 15:40:46.225 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 15:40:46.225 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:40:46.246 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:40:46.250 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 15:40:46.253 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:40:46.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 64.3791ms
2026-01-26 15:40:46.257 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 15:40:49.614 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-01-26 15:40:49.615 +07:00 [DBG] No candidates found for the request path '/'
2026-01-26 15:40:49.615 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:40:49.617 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:40:49.617 +07:00 [DBG] The request path  does not match the path filter
2026-01-26 15:40:49.617 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:40:49.617 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 2.8967ms
2026-01-26 15:40:49.617 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-01-26 15:40:53.459 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-01-26 15:40:53.460 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-01-26 15:40:53.460 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:40:53.466 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:40:53.469 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:40:53.469 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 10.7571ms
2026-01-26 15:40:53.512 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-01-26 15:40:53.513 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-01-26 15:40:53.513 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:40:53.513 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:40:53.541 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-01-26 15:40:53.549 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-01-26 15:40:53.549 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:40:53.549 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 37.2718ms
2026-01-26 15:40:53.618 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-01-26 15:40:53.619 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-01-26 15:40:53.620 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:40:53.620 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 16459 application/javascript; charset=utf-8 2.2147ms
2026-01-26 15:40:53.889 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-01-26 15:40:53.889 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-01-26 15:40:53.889 +07:00 [DBG] Request did not match any endpoints
2026-01-26 15:40:53.889 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:40:53.892 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-01-26 15:40:53.894 +07:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2026-01-26 15:40:54.256 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:40:54.256 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 367.1626ms
2026-01-26 15:41:14.173 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 72
2026-01-26 15:41:14.176 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-01-26 15:41:14.177 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-01-26 15:41:14.178 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-01-26 15:41:14.178 +07:00 [INF] CORS policy execution successful.
2026-01-26 15:41:14.178 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-01-26 15:41:14.179 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:41:14.179 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-01-26 15:41:14.182 +07:00 [DBG] Connection id "0HNISMQCNBSB1", Request id "0HNISMQCNBSB1:00000007": started reading request body.
2026-01-26 15:41:14.183 +07:00 [DBG] Connection id "0HNISMQCNBSB1", Request id "0HNISMQCNBSB1:00000007": done reading request body.
2026-01-26 15:41:14.190 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2026-01-26 15:41:14.258 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-01-26 15:41:14.744 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 15:41:14.745 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-01-26 15:41:14.821 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 15:41:14.863 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == @command_Request_Email_Value)'
2026-01-26 15:41:14.896 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 15:41:14.896 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 15:41:15.087 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @command_Request_Email_Value, 
            False, 
            Parameter
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-01-26 15:41:15.115 +07:00 [DBG] Creating DbConnection.
2026-01-26 15:41:15.118 +07:00 [DBG] Created DbConnection. (1ms).
2026-01-26 15:41:15.121 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:15.122 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:15.123 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 15:41:15.126 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 15:41:15.128 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-01-26 15:41:15.133 +07:00 [DBG] Executing DbCommand [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 15:41:15.147 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@command_Request_Email_Value='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @command_Request_Email_Value
LIMIT 1
2026-01-26 15:41:15.180 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:15.216 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:15.218 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:15.222 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:15.222 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:15.227 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:15.230 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 79ms reading results.
2026-01-26 15:41:15.232 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:15.233 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:41:15.254 +07:00 [INF] Setting HTTP status code 200.
2026-01-26 15:41:15.256 +07:00 [INF] Writing value of type 'LoginResponse' as Json.
2026-01-26 15:41:15.259 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-01-26 15:41:15.261 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:41:15.263 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 15:41:15.265 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:15.266 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:41:15.266 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 200 null application/json; charset=utf-8 1093.3769ms
2026-01-26 15:41:15.931 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:41:30.084 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer/export - null null
2026-01-26 15:41:30.085 +07:00 [DBG] 2 candidate(s) found for the request path '/Customer/export'
2026-01-26 15:41:30.085 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/export' with route pattern '/Customer/export' is valid for the request path '/Customer/export'
2026-01-26 15:41:30.085 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/export'
2026-01-26 15:41:30.085 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:41:30.117 +07:00 [DBG] Successfully validated the token.
2026-01-26 15:41:30.118 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-01-26 15:41:30.121 +07:00 [DBG] Authorization was successful.
2026-01-26 15:41:30.121 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-01-26 15:41:30.121 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:41:30.202 +07:00 [DBG] Entity Framework Core 10.0.2 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:10.0.0+7624373747b28d693b45cea8174471d4b312e2a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-01-26 15:41:30.205 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .Select(c => new CustomerReadDTO(c))'
2026-01-26 15:41:30.206 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-01-26 15:41:30.206 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-01-26 15:41:30.213 +07:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<CustomerReadDTO>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IPropertyBase, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
            1 -> Dictionary<IPropertyBase, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
            2 -> Dictionary<IPropertyBase, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
        SELECT c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
        FROM Customers AS c, 
        False, 
        Parameter
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Customer entity;
        PhoneNumber entity;
        EmailAddress entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Customer instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Customer);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Customer)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                        {
                            return 
                            {
                                Customer instance;
                                instance = new Customer();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                instance.<LastName>k__BackingField = dataReader.GetString(3);
                                instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                instance.<Password>k__BackingField = dataReader.GetString(5);
                                instance.<Region>k__BackingField = dataReader.GetString(6);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Customer)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            PhoneNumber instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(PhoneNumber);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (PhoneNumber)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new PhoneNumber(
                                dataReader.GetString(9), 
                                dataReader.GetString(10)
                            );
                        }
                    default: 
                        default(PhoneNumber)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        entity = 
        {
            MaterializationContext materializationContext3;
            IEntityType entityType3;
            EmailAddress instance3;
            InternalEntityEntry entry3;
            bool hasNullKey3;
            materializationContext3 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance3 = default(EmailAddress);
            entry3 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey3);
            !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
            {
                entityType3 = entry3.EntityType;
                return instance3 = (EmailAddress)entry3.Entity;
            } : 
            {
                ISnapshot shadowSnapshot3;
                shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                instance3 = switch (entityType3)
                {
                    case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                        {
                            shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return new EmailAddress(dataReader.GetString(11));
                        }
                    default: 
                        default(EmailAddress)
                }
                ;
                entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType3, 
                    entity: instance3, 
                    snapshot: shadowSnapshot3);
                return instance3;
            } : default(void);
            return instance3;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) Required ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{10}, namelessParameter{11}) => 
            {
                return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
            }, 
            trackingQuery: True);
        ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) Required ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{13}, namelessParameter{14}) => 
            {
                return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
            }, 
            trackingQuery: True);
        return new CustomerReadDTO(entity);
    }, 
    contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2026-01-26 15:41:30.216 +07:00 [DBG] Creating DbConnection.
2026-01-26 15:41:30.216 +07:00 [DBG] Created DbConnection. (0ms).
2026-01-26 15:41:30.216 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:30.216 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:30.216 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-01-26 15:41:30.216 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-01-26 15:41:30.216 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2026-01-26 15:41:30.216 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 15:41:30.218 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
2026-01-26 15:41:30.218 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:30.218 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:30.218 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:30.219 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:30.219 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-01-26 15:41:30.220 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:30.220 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2026-01-26 15:41:30.221 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:30.221 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:41:31.401 +07:00 [INF] Sending file with download name 'Customers.xlsx'.
2026-01-26 15:41:31.403 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-01-26 15:41:31.403 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/export'
2026-01-26 15:41:31.404 +07:00 [DBG] Connection id "0HNISMQCNBSB1" completed keep alive response.
2026-01-26 15:41:31.404 +07:00 [DBG] 'CustomerDb' disposed.
2026-01-26 15:41:31.404 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-01-26 15:41:31.404 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-01-26 15:41:31.404 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer/export - 200 7381 application/vnd.openxmlformats-officedocument.spreadsheetml.sheet 1319.4738ms
2026-01-26 15:41:45.945 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:42:15.956 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:42:45.974 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:43:15.990 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:43:26.449 +07:00 [DBG] Connection id "0HNISMQCNBSB1" received FIN.
2026-01-26 15:43:26.450 +07:00 [DBG] Connection id "0HNISMQCNBSB1" disconnecting.
2026-01-26 15:43:26.450 +07:00 [DBG] Connection id "0HNISMQCNBSB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-01-26 15:43:26.467 +07:00 [DBG] Connection id "0HNISMQCNBSB1" stopped.
2026-01-26 15:43:46.020 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:44:16.035 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:44:46.050 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:45:16.068 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:45:45.936 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:45:46.021 +07:00 [INF] 1 servers were removed due to timeout
2026-01-26 15:45:46.081 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:46:16.103 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:46:46.131 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:47:16.160 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:47:46.190 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:48:16.219 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:48:46.240 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:49:16.254 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:49:46.273 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:50:16.288 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:50:46.044 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:50:46.384 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:51:16.405 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:51:46.425 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:52:16.454 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:52:46.473 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:53:16.501 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:53:46.529 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:54:16.546 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:54:46.564 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:55:16.582 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:55:46.062 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-01-26 15:55:46.601 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:56:16.632 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:56:46.656 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:57:16.671 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
2026-01-26 15:57:46.700 +07:00 [DBG] Server desktop-l31jdro:15776:25421dac heartbeat successfully sent
