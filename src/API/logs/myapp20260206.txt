2026-02-06 14:21:15.045 +07:00 [INF] Starting the API...
2026-02-06 14:21:17.519 +07:00 [INF] Start installing Hangfire SQL objects...
2026-02-06 14:21:17.637 +07:00 [INF] Hangfire SQL objects installed.
2026-02-06 14:21:17.657 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-02-06 14:21:17.657 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-02-06 14:21:17.657 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-02-06 14:21:17.657 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-02-06 14:21:17.768 +07:00 [DBG] Hosting starting
2026-02-06 14:21:17.794 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 14:21:17.806 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-02-06 14:21:17.818 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-02-06 14:21:17.825 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-02-06 14:21:17.827 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-06 14:21:17.829 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-02-06 14:21:17.831 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-06 14:21:17.834 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-02-06 14:21:17.835 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-02-06 14:21:17.836 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-02-06 14:21:17.837 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-02-06 14:21:17.840 +07:00 [DBG] Middleware loaded
2026-02-06 14:21:17.842 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (14879 B).
2026-02-06 14:21:17.843 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-02-06 14:21:18.018 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-02-06 14:21:18.031 +07:00 [INF] Now listening on: http://localhost:5067
2026-02-06 14:21:18.031 +07:00 [DBG] Loaded hosting startup assembly API
2026-02-06 14:21:18.031 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-02-06 14:21:18.037 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-02-06 14:21:18.037 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-02-06 14:21:18.038 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-02-06 14:21:18.038 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-02-06 14:21:18.038 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-02-06 14:21:18.038 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-02-06 14:21:18.052 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 14:21:18.052 +07:00 [INF] Hosting environment: Development
2026-02-06 14:21:18.053 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-02-06 14:21:18.053 +07:00 [DBG] Hosting started
2026-02-06 14:21:18.053 +07:00 [DBG] Execution loop BackgroundServerProcess:cba5ff68 has started in 4.3115 ms
2026-02-06 14:21:18.293 +07:00 [INF] Server desktop-l31jdro:5368:f8afd145 successfully announced in 234.491 ms
2026-02-06 14:21:18.297 +07:00 [DBG] Execution loop ServerHeartbeatProcess:3266b77a has started in 2.4652 ms
2026-02-06 14:21:18.297 +07:00 [INF] Server desktop-l31jdro:5368:f8afd145 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-02-06 14:21:18.299 +07:00 [DBG] Execution loop ServerWatchdog:3944afa9 has started in 1.2894 ms
2026-02-06 14:21:18.300 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:8c1da2e0 has started in 1.1216 ms
2026-02-06 14:21:18.302 +07:00 [DBG] Execution loop ExpirationManager:e32ed258 has started in 1.5404 ms
2026-02-06 14:21:18.303 +07:00 [DBG] Execution loop CountersAggregator:c73e93f8 has started in 1.2772 ms
2026-02-06 14:21:18.304 +07:00 [INF] 1 servers were removed due to timeout
2026-02-06 14:21:18.305 +07:00 [DBG] Execution loop Worker:7155c89e has started in 1.5041 ms
2026-02-06 14:21:18.305 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-02-06 14:21:18.305 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-02-06 14:21:18.306 +07:00 [DBG] Execution loop Worker:8ae551ba has started in 2.6129 ms
2026-02-06 14:21:18.310 +07:00 [DBG] Execution loop Worker:e579ec39 has started in 6.866 ms
2026-02-06 14:21:18.312 +07:00 [DBG] Execution loop Worker:735050c7 has started in 9.2004 ms
2026-02-06 14:21:18.314 +07:00 [DBG] Execution loop Worker:41d38f49 has started in 10.9485 ms
2026-02-06 14:21:18.323 +07:00 [DBG] Execution loop Worker:1637daf0 has started in 20.0769 ms
2026-02-06 14:21:18.325 +07:00 [DBG] Execution loop Worker:92bf58c4 has started in 22.2235 ms
2026-02-06 14:21:18.328 +07:00 [DBG] Execution loop Worker:4d83181a has started in 25.3262 ms
2026-02-06 14:21:18.330 +07:00 [DBG] Execution loop Worker:a5bfd798 has started in 26.8762 ms
2026-02-06 14:21:18.334 +07:00 [DBG] Execution loop Worker:1bdcb65f has started in 30.5669 ms
2026-02-06 14:21:18.336 +07:00 [DBG] Execution loop Worker:f8aed3dd has started in 32.5919 ms
2026-02-06 14:21:18.340 +07:00 [DBG] Execution loop Worker:a8a2ea40 has started in 36.6256 ms
2026-02-06 14:21:18.342 +07:00 [DBG] Execution loop Worker:a8243cd3 has started in 38.5854 ms
2026-02-06 14:21:18.344 +07:00 [DBG] Execution loop Worker:30346a6d has started in 40.8217 ms
2026-02-06 14:21:18.346 +07:00 [DBG] Execution loop Worker:f6c4b2ab has started in 42.6309 ms
2026-02-06 14:21:18.349 +07:00 [DBG] Execution loop Worker:a92f7c6e has started in 46.1305 ms
2026-02-06 14:21:18.353 +07:00 [DBG] Execution loop Worker:82f97ae0 has started in 50.1839 ms
2026-02-06 14:21:18.357 +07:00 [DBG] Execution loop Worker:814e1dc3 has started in 53.2998 ms
2026-02-06 14:21:18.361 +07:00 [DBG] Execution loop Worker:ea087d8a has started in 58.3884 ms
2026-02-06 14:21:18.370 +07:00 [DBG] Execution loop Worker:a5874b37 has started in 66.2856 ms
2026-02-06 14:21:18.386 +07:00 [DBG] Execution loop DelayedJobScheduler:8a7de503 has started in 14.8867 ms
2026-02-06 14:21:18.408 +07:00 [DBG] Execution loop RecurringJobScheduler:15c6c10b has started in 18.4486 ms
2026-02-06 14:21:18.408 +07:00 [INF] Server desktop-l31jdro:5368:f8afd145 all the dispatchers started
2026-02-06 14:21:18.543 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-02-06 14:21:18.562 +07:00 [DBG] Removing outdated records from table 'job'...
2026-02-06 14:21:18.660 +07:00 [DBG] Connection id "0HNJ5A195JS15" accepted.
2026-02-06 14:21:18.661 +07:00 [DBG] Connection id "0HNJ5A195JS15" started.
2026-02-06 14:21:18.704 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-02-06 14:21:18.713 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-06 14:21:18.732 +07:00 [DBG] Removing outdated records from table 'list'...
2026-02-06 14:21:18.747 +07:00 [DBG] Removing outdated records from table 'set'...
2026-02-06 14:21:18.762 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-02-06 14:21:18.762 +07:00 [DBG] No candidates found for the request path '/'
2026-02-06 14:21:18.762 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:18.849 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:18.854 +07:00 [DBG] The request path  does not match the path filter
2026-02-06 14:21:18.858 +07:00 [DBG] Connection id "0HNJ5A195JS15" completed keep alive response.
2026-02-06 14:21:18.859 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 155.8786ms
2026-02-06 14:21:18.861 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-02-06 14:21:31.515 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-02-06 14:21:31.517 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-02-06 14:21:31.517 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.518 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.522 +07:00 [DBG] Connection id "0HNJ5A195JS15" completed keep alive response.
2026-02-06 14:21:31.522 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 6.8913ms
2026-02-06 14:21:31.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-02-06 14:21:31.582 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-02-06 14:21:31.582 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.583 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.598 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-02-06 14:21:31.604 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-02-06 14:21:31.604 +07:00 [DBG] Connection id "0HNJ5A195JS15" completed keep alive response.
2026-02-06 14:21:31.604 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 23.4836ms
2026-02-06 14:21:31.652 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - null null
2026-02-06 14:21:31.652 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2026-02-06 14:21:31.652 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.653 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.653 +07:00 [DBG] Connection id "0HNJ5A195JS16" accepted.
2026-02-06 14:21:31.654 +07:00 [DBG] Connection id "0HNJ5A195JS16" started.
2026-02-06 14:21:31.654 +07:00 [DBG] Connection id "0HNJ5A195JS17" accepted.
2026-02-06 14:21:31.654 +07:00 [DBG] Connection id "0HNJ5A195JS17" started.
2026-02-06 14:21:31.654 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.css - null null
2026-02-06 14:21:31.655 +07:00 [DBG] No candidates found for the request path '/swagger/index.css'
2026-02-06 14:21:31.655 +07:00 [DBG] Connection id "0HNJ5A195JS18" accepted.
2026-02-06 14:21:31.655 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.655 +07:00 [DBG] Connection id "0HNJ5A195JS18" started.
2026-02-06 14:21:31.655 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - null null
2026-02-06 14:21:31.655 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2026-02-06 14:21:31.655 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.655 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.655 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.655 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - null null
2026-02-06 14:21:31.656 +07:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2026-02-06 14:21:31.656 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.656 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.656 +07:00 [DBG] Connection id "0HNJ5A195JS19" accepted.
2026-02-06 14:21:31.657 +07:00 [DBG] Connection id "0HNJ5A195JS19" started.
2026-02-06 14:21:31.657 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 14:21:31.659 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-02-06 14:21:31.659 +07:00 [DBG] Connection id "0HNJ5A195JS19" completed keep alive response.
2026-02-06 14:21:31.659 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2026-02-06 14:21:31.659 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 14879 application/javascript; charset=utf-8 2.2593ms
2026-02-06 14:21:31.659 +07:00 [DBG] Connection id "0HNJ5A195JS16" completed keep alive response.
2026-02-06 14:21:31.661 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.css - 200 218 text/css 6.7948ms
2026-02-06 14:21:31.666 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2026-02-06 14:21:31.666 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2026-02-06 14:21:31.669 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2026-02-06 14:21:31.670 +07:00 [DBG] Connection id "0HNJ5A195JS18" completed keep alive response.
2026-02-06 14:21:31.670 +07:00 [DBG] Connection id "0HNJ5A195JS15" completed keep alive response.
2026-02-06 14:21:31.670 +07:00 [DBG] Connection id "0HNJ5A195JS17" completed keep alive response.
2026-02-06 14:21:31.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-standalone-preset.js - 200 229224 text/javascript 14.2515ms
2026-02-06 14:21:31.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui-bundle.js - 200 1468327 text/javascript 15.2203ms
2026-02-06 14:21:31.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/swagger-ui.css - 200 154988 text/css 17.9343ms
2026-02-06 14:21:31.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - null null
2026-02-06 14:21:31.875 +07:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2026-02-06 14:21:31.875 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.875 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.876 +07:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2026-02-06 14:21:31.876 +07:00 [DBG] Connection id "0HNJ5A195JS17" completed keep alive response.
2026-02-06 14:21:31.876 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/favicon-16x16.png - 200 665 image/png 0.6437ms
2026-02-06 14:21:31.911 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-02-06 14:21:31.911 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-02-06 14:21:31.911 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:21:31.911 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:31.919 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-02-06 14:21:32.228 +07:00 [DBG] Connection id "0HNJ5A195JS17" completed keep alive response.
2026-02-06 14:21:32.228 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 317.5377ms
2026-02-06 14:21:41.216 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/export-pdf - null null
2026-02-06 14:21:41.218 +07:00 [DBG] 1 candidate(s) found for the request path '/export-pdf'
2026-02-06 14:21:41.218 +07:00 [DBG] Request matched endpoint 'HTTP: GET /export-pdf'
2026-02-06 14:21:41.219 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:21:41.219 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-06 14:21:41.219 +07:00 [INF] Executing endpoint 'HTTP: GET /export-pdf'
2026-02-06 14:21:42.682 +07:00 [INF] Sending file with download name 'Customers.pdf'.
2026-02-06 14:21:42.684 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-02-06 14:21:42.686 +07:00 [INF] Executed endpoint 'HTTP: GET /export-pdf'
2026-02-06 14:21:42.686 +07:00 [DBG] Connection id "0HNJ5A195JS17" completed keep alive response.
2026-02-06 14:21:42.686 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/export-pdf - 200 83030 application/pdf 1470.5186ms
2026-02-06 14:21:48.306 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:22:18.313 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:22:48.321 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:23:18.338 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:23:27.019 +07:00 [DBG] Connection id "0HNJ5A195JS19" received FIN.
2026-02-06 14:23:27.019 +07:00 [DBG] Connection id "0HNJ5A195JS16" received FIN.
2026-02-06 14:23:27.019 +07:00 [DBG] Connection id "0HNJ5A195JS15" received FIN.
2026-02-06 14:23:27.019 +07:00 [DBG] Connection id "0HNJ5A195JS18" received FIN.
2026-02-06 14:23:27.020 +07:00 [DBG] Connection id "0HNJ5A195JS19" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:23:27.020 +07:00 [DBG] Connection id "0HNJ5A195JS16" disconnecting.
2026-02-06 14:23:27.020 +07:00 [DBG] Connection id "0HNJ5A195JS19" disconnecting.
2026-02-06 14:23:27.021 +07:00 [DBG] Connection id "0HNJ5A195JS15" disconnecting.
2026-02-06 14:23:27.021 +07:00 [DBG] Connection id "0HNJ5A195JS18" disconnecting.
2026-02-06 14:23:27.021 +07:00 [DBG] Connection id "0HNJ5A195JS18" stopped.
2026-02-06 14:23:27.021 +07:00 [DBG] Connection id "0HNJ5A195JS19" stopped.
2026-02-06 14:23:27.021 +07:00 [DBG] Connection id "0HNJ5A195JS15" stopped.
2026-02-06 14:23:27.022 +07:00 [DBG] Connection id "0HNJ5A195JS16" stopped.
2026-02-06 14:23:27.023 +07:00 [DBG] Connection id "0HNJ5A195JS18" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:23:27.023 +07:00 [DBG] Connection id "0HNJ5A195JS15" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:23:27.024 +07:00 [DBG] Connection id "0HNJ5A195JS16" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:23:38.026 +07:00 [DBG] Connection id "0HNJ5A195JS17" received FIN.
2026-02-06 14:23:38.026 +07:00 [DBG] Connection id "0HNJ5A195JS17" disconnecting.
2026-02-06 14:23:38.026 +07:00 [DBG] Connection id "0HNJ5A195JS17" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:23:38.041 +07:00 [DBG] Connection id "0HNJ5A195JS17" stopped.
2026-02-06 14:23:48.352 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:24:18.363 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:24:48.381 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:25:18.389 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:25:48.404 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:26:18.346 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-02-06 14:26:18.410 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:26:48.424 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:27:18.432 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:27:48.439 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:28:18.447 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:28:48.460 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:29:18.472 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:29:48.499 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:29:51.482 +07:00 [DBG] Connection id "0HNJ5A195JS1A" accepted.
2026-02-06 14:29:51.483 +07:00 [DBG] Connection id "0HNJ5A195JS1A" started.
2026-02-06 14:29:51.483 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 66
2026-02-06 14:29:51.484 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-02-06 14:29:51.484 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-02-06 14:29:51.485 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-02-06 14:29:51.485 +07:00 [INF] CORS policy execution successful.
2026-02-06 14:29:51.486 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:29:51.487 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-06 14:29:51.487 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-02-06 14:29:51.499 +07:00 [DBG] Connection id "0HNJ5A195JS1A", Request id "0HNJ5A195JS1A:00000001": started reading request body.
2026-02-06 14:29:51.499 +07:00 [DBG] Connection id "0HNJ5A195JS1A", Request id "0HNJ5A195JS1A:00000001": done reading request body.
2026-02-06 14:29:51.622 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-02-06 14:29:52.106 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-02-06 14:29:52.106 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-02-06 14:29:52.187 +07:00 [DBG] Entity Framework Core 9.0.12 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-02-06 14:29:52.228 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == __command_Request_Email_Value_0)'
2026-02-06 14:29:52.258 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-02-06 14:29:52.259 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-02-06 14:29:52.457 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IProperty, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IProperty, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @__command_Request_Email_Value_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IProperty, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IProperty, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @__command_Request_Email_Value_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-06 14:29:52.486 +07:00 [DBG] Creating DbConnection.
2026-02-06 14:29:52.489 +07:00 [DBG] Created DbConnection. (2ms).
2026-02-06 14:29:52.491 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 14:29:52.492 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 14:29:52.493 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-06 14:29:52.496 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-06 14:29:52.498 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-06 14:29:52.502 +07:00 [DBG] Executing DbCommand [Parameters=[@__command_Request_Email_Value_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @__command_Request_Email_Value_0
LIMIT 1
2026-02-06 14:29:52.513 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__command_Request_Email_Value_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @__command_Request_Email_Value_0
LIMIT 1
2026-02-06 14:29:52.518 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 14:29:52.521 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2026-02-06 14:29:52.523 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 14:29:52.523 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-02-06 14:29:52.527 +07:00 [INF] Setting HTTP status code 401.
2026-02-06 14:29:52.528 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-02-06 14:29:52.528 +07:00 [DBG] Connection id "0HNJ5A195JS1A" completed keep alive response.
2026-02-06 14:29:52.530 +07:00 [DBG] 'CustomerDb' disposed.
2026-02-06 14:29:52.533 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 14:29:52.534 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-02-06 14:29:52.534 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 401 0 null 1050.3953ms
2026-02-06 14:30:18.512 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:30:48.529 +07:00 [DBG] Server desktop-l31jdro:5368:f8afd145 heartbeat successfully sent
2026-02-06 14:30:52.441 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-02-06 14:30:52.441 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-02-06 14:30:52.441 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:30:52.441 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:30:52.442 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-02-06 14:30:52.442 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-02-06 14:30:52.442 +07:00 [DBG] Connection id "0HNJ5A195JS1A" completed keep alive response.
2026-02-06 14:30:52.442 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 1.0316ms
2026-02-06 14:30:52.488 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 14:30:52.488 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-02-06 14:30:52.488 +07:00 [DBG] Connection id "0HNJ5A195JS1A" completed keep alive response.
2026-02-06 14:30:52.488 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 14879 application/javascript; charset=utf-8 0.3002ms
2026-02-06 14:30:52.717 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-02-06 14:30:52.717 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-02-06 14:30:52.717 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:30:52.718 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:30:52.718 +07:00 [DBG] Connection id "0HNJ5A195JS1A" completed keep alive response.
2026-02-06 14:30:52.718 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 0.4966ms
2026-02-06 14:30:56.037 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/export-pdf - null null
2026-02-06 14:30:56.037 +07:00 [DBG] 1 candidate(s) found for the request path '/export-pdf'
2026-02-06 14:30:56.037 +07:00 [DBG] Request matched endpoint 'HTTP: GET /export-pdf'
2026-02-06 14:30:56.037 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:30:56.037 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-06 14:30:56.038 +07:00 [INF] Executing endpoint 'HTTP: GET /export-pdf'
2026-02-06 14:30:56.104 +07:00 [INF] Sending file with download name 'Customers.pdf'.
2026-02-06 14:30:56.104 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-02-06 14:30:56.105 +07:00 [INF] Executed endpoint 'HTTP: GET /export-pdf'
2026-02-06 14:30:56.105 +07:00 [DBG] Connection id "0HNJ5A195JS1A" completed keep alive response.
2026-02-06 14:30:56.105 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/export-pdf - 200 83030 application/pdf 67.7014ms
2026-02-06 14:31:15.506 +07:00 [INF] Starting the API...
2026-02-06 14:31:16.122 +07:00 [INF] Start installing Hangfire SQL objects...
2026-02-06 14:31:16.188 +07:00 [INF] Hangfire SQL objects installed.
2026-02-06 14:31:16.199 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-02-06 14:31:16.199 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-02-06 14:31:16.199 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-02-06 14:31:16.199 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-02-06 14:31:16.247 +07:00 [DBG] Hosting starting
2026-02-06 14:31:16.265 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 14:31:16.275 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-02-06 14:31:16.281 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-02-06 14:31:16.287 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-02-06 14:31:16.288 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-06 14:31:16.291 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-02-06 14:31:16.292 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-06 14:31:16.294 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-02-06 14:31:16.295 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-02-06 14:31:16.296 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-02-06 14:31:16.296 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-02-06 14:31:16.298 +07:00 [DBG] Middleware loaded
2026-02-06 14:31:16.300 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (14879 B).
2026-02-06 14:31:16.300 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-02-06 14:31:16.401 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-02-06 14:31:16.410 +07:00 [INF] Now listening on: http://localhost:5067
2026-02-06 14:31:16.410 +07:00 [DBG] Loaded hosting startup assembly API
2026-02-06 14:31:16.410 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-02-06 14:31:16.416 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-02-06 14:31:16.416 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-02-06 14:31:16.416 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-02-06 14:31:16.416 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-02-06 14:31:16.417 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-02-06 14:31:16.417 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-02-06 14:31:16.428 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 14:31:16.428 +07:00 [INF] Hosting environment: Development
2026-02-06 14:31:16.428 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-02-06 14:31:16.428 +07:00 [DBG] Hosting started
2026-02-06 14:31:16.430 +07:00 [DBG] Execution loop BackgroundServerProcess:3762b98f has started in 3.3441 ms
2026-02-06 14:31:16.546 +07:00 [INF] Server desktop-l31jdro:5276:c522242e successfully announced in 111.2505 ms
2026-02-06 14:31:16.549 +07:00 [DBG] Execution loop ServerHeartbeatProcess:5524d64e has started in 2.5905 ms
2026-02-06 14:31:16.551 +07:00 [INF] Server desktop-l31jdro:5276:c522242e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-02-06 14:31:16.554 +07:00 [DBG] Execution loop ServerWatchdog:92354fa5 has started in 2.2475 ms
2026-02-06 14:31:16.702 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" accepted.
2026-02-06 14:31:16.703 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" started.
2026-02-06 14:31:16.730 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-02-06 14:31:16.737 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-06 14:31:16.768 +07:00 [DBG] No candidates found for the request path '/'
2026-02-06 14:31:16.768 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:31:16.795 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:31:16.799 +07:00 [DBG] The request path  does not match the path filter
2026-02-06 14:31:16.802 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" completed keep alive response.
2026-02-06 14:31:16.803 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 73.903ms
2026-02-06 14:31:16.805 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-02-06 14:31:16.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/favicon.ico - null null
2026-02-06 14:31:16.872 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2026-02-06 14:31:16.872 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:31:16.874 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:31:16.874 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" received FIN.
2026-02-06 14:31:16.874 +07:00 [DBG] The request path  does not match the path filter
2026-02-06 14:31:16.874 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" completed keep alive response.
2026-02-06 14:31:16.875 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:31:16.875 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/favicon.ico - 404 0 null 4.3942ms
2026-02-06 14:31:16.876 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" disconnecting.
2026-02-06 14:31:16.876 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/favicon.ico, Response status code: 404
2026-02-06 14:31:16.879 +07:00 [DBG] Connection id "0HNJ5A6RCVNPJ" stopped.
2026-02-06 14:31:17.561 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:cf767f1f has started in 1006.3616 ms
2026-02-06 14:31:17.574 +07:00 [DBG] Execution loop ExpirationManager:d8a74ec6 has started in 12.4837 ms
2026-02-06 14:31:17.576 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-02-06 14:31:17.589 +07:00 [DBG] Execution loop CountersAggregator:f674d424 has started in 14.2787 ms
2026-02-06 14:31:17.589 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-02-06 14:31:17.593 +07:00 [DBG] Execution loop Worker:c941a86b has started in 4.5281 ms
2026-02-06 14:31:17.596 +07:00 [DBG] Execution loop Worker:a756a5e2 has started in 7.6456 ms
2026-02-06 14:31:17.598 +07:00 [DBG] Execution loop Worker:9ae406c7 has started in 9.5569 ms
2026-02-06 14:31:17.601 +07:00 [DBG] Execution loop Worker:80e30d42 has started in 11.9221 ms
2026-02-06 14:31:17.602 +07:00 [DBG] Execution loop Worker:632360bd has started in 13.5435 ms
2026-02-06 14:31:17.610 +07:00 [DBG] Execution loop Worker:2e36c42d has started in 20.9864 ms
2026-02-06 14:31:17.615 +07:00 [DBG] Execution loop Worker:113f403f has started in 26.123 ms
2026-02-06 14:31:17.618 +07:00 [DBG] Execution loop Worker:8e7e77d3 has started in 28.7405 ms
2026-02-06 14:31:17.619 +07:00 [DBG] Execution loop Worker:de71059a has started in 30.6217 ms
2026-02-06 14:31:17.622 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-02-06 14:31:17.623 +07:00 [DBG] Execution loop Worker:d9d805aa has started in 34.3001 ms
2026-02-06 14:31:17.628 +07:00 [DBG] Execution loop Worker:823c773f has started in 38.7713 ms
2026-02-06 14:31:17.631 +07:00 [DBG] Execution loop Worker:100ce0d4 has started in 42.3449 ms
2026-02-06 14:31:17.635 +07:00 [DBG] Execution loop Worker:8d474570 has started in 46.3301 ms
2026-02-06 14:31:17.639 +07:00 [DBG] Execution loop Worker:ce8b39ea has started in 50.6385 ms
2026-02-06 14:31:17.641 +07:00 [DBG] Execution loop Worker:a04476f6 has started in 52.1908 ms
2026-02-06 14:31:17.641 +07:00 [DBG] Removing outdated records from table 'job'...
2026-02-06 14:31:17.645 +07:00 [DBG] Execution loop Worker:2ab47562 has started in 56.4595 ms
2026-02-06 14:31:17.648 +07:00 [DBG] Execution loop Worker:a55fe058 has started in 59.6939 ms
2026-02-06 14:31:17.653 +07:00 [DBG] Execution loop Worker:df380cc5 has started in 64.4504 ms
2026-02-06 14:31:17.655 +07:00 [DBG] Removing outdated records from table 'list'...
2026-02-06 14:31:17.659 +07:00 [DBG] Execution loop Worker:bbcbdd32 has started in 70.0772 ms
2026-02-06 14:31:17.669 +07:00 [DBG] Execution loop Worker:83f3972e has started in 80.5435 ms
2026-02-06 14:31:17.681 +07:00 [DBG] Removing outdated records from table 'set'...
2026-02-06 14:31:17.689 +07:00 [DBG] Execution loop DelayedJobScheduler:6ed90b67 has started in 18.2183 ms
2026-02-06 14:31:17.706 +07:00 [DBG] Execution loop RecurringJobScheduler:e4d9d99c has started in 15.617 ms
2026-02-06 14:31:17.706 +07:00 [INF] Server desktop-l31jdro:5276:c522242e all the dispatchers started
2026-02-06 14:31:17.711 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-02-06 14:31:21.598 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" accepted.
2026-02-06 14:31:21.598 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" started.
2026-02-06 14:31:21.599 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-02-06 14:31:21.600 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-02-06 14:31:21.600 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:31:21.603 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:31:21.608 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" completed keep alive response.
2026-02-06 14:31:21.608 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 9.1748ms
2026-02-06 14:31:21.678 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-02-06 14:31:21.678 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-02-06 14:31:21.678 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:31:21.678 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:31:21.692 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-02-06 14:31:21.698 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-02-06 14:31:21.698 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" completed keep alive response.
2026-02-06 14:31:21.698 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 20.2051ms
2026-02-06 14:31:21.756 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 14:31:21.757 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-02-06 14:31:21.758 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" completed keep alive response.
2026-02-06 14:31:21.758 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 14879 application/javascript; charset=utf-8 2.045ms
2026-02-06 14:31:22.042 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-02-06 14:31:22.042 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-02-06 14:31:22.042 +07:00 [DBG] Request did not match any endpoints
2026-02-06 14:31:22.043 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:31:22.044 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-02-06 14:31:22.346 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" completed keep alive response.
2026-02-06 14:31:22.346 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 304.3059ms
2026-02-06 14:31:27.596 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer - null null
2026-02-06 14:31:27.598 +07:00 [DBG] 1 candidate(s) found for the request path '/Customer'
2026-02-06 14:31:27.598 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/'
2026-02-06 14:31:27.599 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 14:31:27.600 +07:00 [DBG] Policy authentication schemes  did not succeed
2026-02-06 14:31:27.602 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2026-02-06 14:31:27.604 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2026-02-06 14:31:27.605 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" completed keep alive response.
2026-02-06 14:31:27.605 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer - 401 0 null 8.7635ms
2026-02-06 14:31:46.564 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:32:16.580 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:32:46.599 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:33:16.616 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:33:23.083 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" received FIN.
2026-02-06 14:33:23.084 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" disconnecting.
2026-02-06 14:33:23.085 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" stopped.
2026-02-06 14:33:23.085 +07:00 [DBG] Connection id "0HNJ5A6RCVNPK" sending FIN because: "The Socket transport's send loop completed gracefully."
2026-02-06 14:33:46.636 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:34:16.654 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:34:46.666 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:35:16.676 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:35:46.705 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:36:16.650 +07:00 [INF] 1 servers were removed due to timeout
2026-02-06 14:36:16.715 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:36:17.698 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-02-06 14:36:46.739 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:37:16.752 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:37:46.765 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:38:16.779 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:38:46.798 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:39:16.811 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:39:46.817 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 14:40:16.828 +07:00 [DBG] Server desktop-l31jdro:5276:c522242e heartbeat successfully sent
2026-02-06 15:10:49.009 +07:00 [INF] Starting the API...
2026-02-06 15:10:49.697 +07:00 [INF] Start installing Hangfire SQL objects...
2026-02-06 15:10:49.760 +07:00 [INF] Hangfire SQL objects installed.
2026-02-06 15:10:49.771 +07:00 [DBG] Found validator CreateCustomerCommandValidator
2026-02-06 15:10:49.771 +07:00 [DBG] Found validator UpdateCustomerCommandValidator
2026-02-06 15:10:49.771 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.AuthModule
2026-02-06 15:10:49.771 +07:00 [DBG] Found module CustomerApi.API.Endpoints.Modules.CustomerModule
2026-02-06 15:10:49.825 +07:00 [DBG] Hosting starting
2026-02-06 15:10:49.845 +07:00 [INF] User profile is available. Using 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-02-06 15:10:49.854 +07:00 [DBG] Reading data from file 'C:\Users\phant\AppData\Local\ASP.NET\DataProtection-Keys\key-e0e4c711-e38d-4994-9c4d-b0c1ef741012.xml'.
2026-02-06 15:10:49.860 +07:00 [DBG] Found key {e0e4c711-e38d-4994-9c4d-b0c1ef741012}.
2026-02-06 15:10:49.865 +07:00 [DBG] Considering key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} with expiration date 2026-03-29 06:37:16Z as default key.
2026-02-06 15:10:49.867 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-06 15:10:49.868 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2026-02-06 15:10:49.869 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=10.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2026-02-06 15:10:49.872 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2026-02-06 15:10:49.873 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2026-02-06 15:10:49.873 +07:00 [DBG] Using key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} as the default key.
2026-02-06 15:10:49.873 +07:00 [DBG] Key ring with default key {e0e4c711-e38d-4994-9c4d-b0c1ef741012} was loaded during application startup.
2026-02-06 15:10:49.876 +07:00 [DBG] Middleware loaded
2026-02-06 15:10:49.877 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (14879 B).
2026-02-06 15:10:49.878 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2026-02-06 15:10:49.974 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2026-02-06 15:10:49.982 +07:00 [INF] Now listening on: http://localhost:5067
2026-02-06 15:10:49.982 +07:00 [DBG] Loaded hosting startup assembly API
2026-02-06 15:10:49.982 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2026-02-06 15:10:49.986 +07:00 [INF] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: postgres, Schema: hangfire'
2026-02-06 15:10:49.986 +07:00 [INF] Using the following options for PostgreSQL job storage:
2026-02-06 15:10:49.986 +07:00 [INF]     Queue poll interval: 00:00:15.
2026-02-06 15:10:49.986 +07:00 [INF]     Invisibility timeout: 00:30:00.
2026-02-06 15:10:49.986 +07:00 [INF]     Use sliding invisibility timeout: False.
2026-02-06 15:10:49.986 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2026-02-06 15:10:49.994 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-02-06 15:10:49.994 +07:00 [INF] Hosting environment: Development
2026-02-06 15:10:49.994 +07:00 [INF] Content root path: C:\Users\phant\Documents\Intern\BackEndIntership\CustomerApi\src\API
2026-02-06 15:10:49.994 +07:00 [DBG] Hosting started
2026-02-06 15:10:49.995 +07:00 [DBG] Execution loop BackgroundServerProcess:d2cc26a6 has started in 2.7044 ms
2026-02-06 15:10:50.089 +07:00 [INF] Server desktop-l31jdro:8196:a04120fc successfully announced in 91.4926 ms
2026-02-06 15:10:50.092 +07:00 [DBG] Execution loop ServerHeartbeatProcess:9ffd6b62 has started in 1.8797 ms
2026-02-06 15:10:50.092 +07:00 [INF] Server desktop-l31jdro:8196:a04120fc is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2026-02-06 15:10:50.094 +07:00 [DBG] Execution loop ServerWatchdog:2cdd8ca8 has started in 1.1889 ms
2026-02-06 15:10:50.095 +07:00 [DBG] Execution loop ServerJobCancellationWatcher:513a4e56 has started in 0.9344 ms
2026-02-06 15:10:50.096 +07:00 [DBG] Execution loop ExpirationManager:1f357d86 has started in 1.1835 ms
2026-02-06 15:10:50.097 +07:00 [DBG] Removing outdated records from table 'aggregatedcounter'...
2026-02-06 15:10:50.097 +07:00 [DBG] Execution loop CountersAggregator:ffbd67fc has started in 0.9297 ms
2026-02-06 15:10:50.097 +07:00 [DBG] Aggregating records in 'Counter' table...
2026-02-06 15:10:50.098 +07:00 [INF] 1 servers were removed due to timeout
2026-02-06 15:10:50.099 +07:00 [DBG] Execution loop Worker:f30e6ef9 has started in 1.5922 ms
2026-02-06 15:10:50.100 +07:00 [DBG] Execution loop Worker:fd2c8698 has started in 3.0705 ms
2026-02-06 15:10:50.101 +07:00 [DBG] Execution loop Worker:0c40ed2d has started in 4.0191 ms
2026-02-06 15:10:50.102 +07:00 [DBG] Execution loop Worker:70cdd3e7 has started in 5.0932 ms
2026-02-06 15:10:50.103 +07:00 [DBG] Execution loop Worker:1a43b20b has started in 6.1044 ms
2026-02-06 15:10:50.104 +07:00 [DBG] Execution loop Worker:14286aaa has started in 6.85 ms
2026-02-06 15:10:50.105 +07:00 [DBG] Execution loop Worker:56f683e3 has started in 7.7891 ms
2026-02-06 15:10:50.106 +07:00 [DBG] Execution loop Worker:2a8c53d8 has started in 8.8017 ms
2026-02-06 15:10:50.107 +07:00 [DBG] Execution loop Worker:01124e5e has started in 9.8151 ms
2026-02-06 15:10:50.109 +07:00 [DBG] Execution loop Worker:7a649e51 has started in 11.3258 ms
2026-02-06 15:10:50.110 +07:00 [DBG] Execution loop Worker:1a7826cf has started in 13.0629 ms
2026-02-06 15:10:50.121 +07:00 [DBG] Execution loop Worker:ce9502e1 has started in 23.3235 ms
2026-02-06 15:10:50.123 +07:00 [DBG] Execution loop Worker:07b5a7ed has started in 25.3835 ms
2026-02-06 15:10:50.125 +07:00 [DBG] Execution loop Worker:ac983b1d has started in 27.6157 ms
2026-02-06 15:10:50.129 +07:00 [DBG] Execution loop Worker:45272439 has started in 31.4523 ms
2026-02-06 15:10:50.134 +07:00 [DBG] Execution loop Worker:7c198262 has started in 36.6238 ms
2026-02-06 15:10:50.136 +07:00 [DBG] Execution loop Worker:c3bd3a66 has started in 38.778 ms
2026-02-06 15:10:50.140 +07:00 [DBG] Execution loop Worker:6912a26f has started in 43.1226 ms
2026-02-06 15:10:50.144 +07:00 [DBG] Execution loop Worker:49e25ae8 has started in 46.1874 ms
2026-02-06 15:10:50.150 +07:00 [DBG] Execution loop Worker:4491f836 has started in 52.9443 ms
2026-02-06 15:10:50.154 +07:00 [DBG] Execution loop DelayedJobScheduler:9e843d4d has started in 4.5659 ms
2026-02-06 15:10:50.167 +07:00 [DBG] Execution loop RecurringJobScheduler:2f228cbe has started in 12.8123 ms
2026-02-06 15:10:50.170 +07:00 [INF] Server desktop-l31jdro:8196:a04120fc all the dispatchers started
2026-02-06 15:10:50.326 +07:00 [DBG] Removing outdated records from table 'counter'...
2026-02-06 15:10:50.355 +07:00 [DBG] Removing outdated records from table 'job'...
2026-02-06 15:10:50.383 +07:00 [DBG] Removing outdated records from table 'list'...
2026-02-06 15:10:50.394 +07:00 [DBG] Removing outdated records from table 'set'...
2026-02-06 15:10:50.403 +07:00 [DBG] Removing outdated records from table 'hash'...
2026-02-06 15:10:50.410 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" accepted.
2026-02-06 15:10:50.410 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" started.
2026-02-06 15:10:50.436 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2026-02-06 15:10:50.443 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2026-02-06 15:10:50.467 +07:00 [DBG] No candidates found for the request path '/'
2026-02-06 15:10:50.467 +07:00 [DBG] Request did not match any endpoints
2026-02-06 15:10:50.488 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 15:10:50.491 +07:00 [DBG] The request path  does not match the path filter
2026-02-06 15:10:50.494 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:10:50.495 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 null null 58.7707ms
2026-02-06 15:10:50.495 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2026-02-06 15:10:54.824 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger - null null
2026-02-06 15:10:54.825 +07:00 [DBG] No candidates found for the request path '/swagger'
2026-02-06 15:10:54.825 +07:00 [DBG] Request did not match any endpoints
2026-02-06 15:10:54.826 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 15:10:54.829 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:10:54.830 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger - 302 null null 5.5746ms
2026-02-06 15:10:54.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/index.html - null null
2026-02-06 15:10:54.871 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2026-02-06 15:10:54.871 +07:00 [DBG] Request did not match any endpoints
2026-02-06 15:10:54.873 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 15:10:54.886 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2026-02-06 15:10:54.894 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2026-02-06 15:10:54.894 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:10:54.895 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/index.html - 200 null text/html; charset=utf-8 24.2026ms
2026-02-06 15:10:54.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - null null
2026-02-06 15:10:54.949 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2026-02-06 15:10:54.950 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:10:54.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/_framework/aspnetcore-browser-refresh.js - 200 14879 application/javascript; charset=utf-8 3.2646ms
2026-02-06 15:10:55.248 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - null null
2026-02-06 15:10:55.248 +07:00 [DBG] No candidates found for the request path '/swagger/CustomerAPI/swagger.json'
2026-02-06 15:10:55.248 +07:00 [DBG] Request did not match any endpoints
2026-02-06 15:10:55.249 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 15:10:55.251 +07:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2026-02-06 15:10:55.650 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:10:55.650 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/swagger/CustomerAPI/swagger.json - 200 null application/json; charset=utf-8 402.2517ms
2026-02-06 15:11:11.240 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/login - application/json 72
2026-02-06 15:11:11.243 +07:00 [DBG] 1 candidate(s) found for the request path '/login'
2026-02-06 15:11:11.244 +07:00 [DBG] Request matched endpoint 'HTTP: POST /login'
2026-02-06 15:11:11.245 +07:00 [DBG] The request has an origin header: 'http://localhost:5067'.
2026-02-06 15:11:11.245 +07:00 [INF] CORS policy execution successful.
2026-02-06 15:11:11.246 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2026-02-06 15:11:11.247 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-06 15:11:11.247 +07:00 [INF] Executing endpoint 'HTTP: POST /login'
2026-02-06 15:11:11.253 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93", Request id "0HNJ5ASUQDQ93:00000006": started reading request body.
2026-02-06 15:11:11.254 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93", Request id "0HNJ5ASUQDQ93:00000006": done reading request body.
2026-02-06 15:11:11.345 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2026-02-06 15:11:11.819 +07:00 [DBG] The property 'EmailAddress.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-02-06 15:11:11.819 +07:00 [DBG] The property 'PhoneNumber.CustomerId' was created in shadow state because there are no eligible CLR members with a matching name.
2026-02-06 15:11:11.904 +07:00 [DBG] Entity Framework Core 9.0.12 initialized 'CustomerDb' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.4+fd2380957bee5cd86f336466af36b08c0163f1a5' with options: MigrationsAssembly=Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2026-02-06 15:11:11.944 +07:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(u => u.Email.Value == __command_Request_Email_Value_0)'
2026-02-06 15:11:11.977 +07:00 [DBG] Including navigation: 'Customer.ContactNumber'.
2026-02-06 15:11:11.977 +07:00 [DBG] Including navigation: 'Customer.Email'.
2026-02-06 15:11:12.166 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Customer>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IProperty, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IProperty, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @__command_Request_Email_Value_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Customer.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.CreatedAt (DateTime) Required, 1], [Property: Customer.FirstName (string) Required, 2], [Property: Customer.LastName (string) Required, 3], [Property: Customer.MembershipLevel (MembershipLevel) Required, 4], [Property: Customer.Password (string) Required, 5], [Property: Customer.Region (string) Required, 6], [Property: Customer.Status (CustomerStatus) Required, 7], [Property: Customer.UpdatedAt (DateTime?), 8] }
                1 -> Dictionary<IProperty, int> { [Property: PhoneNumber.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: PhoneNumber.CountryCode (string) Required, 9], [Property: PhoneNumber.Number (string) Required, 10] }
                2 -> Dictionary<IProperty, int> { [Property: EmailAddress.CustomerId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: EmailAddress.Value (string) Required, 11] }
            SELECT TOP(1) c.Id, c.CreatedAt, c.FirstName, c.LastName, c.MembershipLevel, c.Password, c.Region, c.Status, c.UpdatedAt, c.CountryCode, c.PhoneNumber, c.Email
            FROM Customers AS c
            WHERE c.Email == @__command_Request_Email_Value_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Customer entity;
            PhoneNumber entity;
            EmailAddress entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Customer instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Customer);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Customer.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Customer)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]: 
                            {
                                return 
                                {
                                    Customer instance;
                                    instance = new Customer();
                                    instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<FirstName>k__BackingField = dataReader.GetString(2);
                                    instance.<LastName>k__BackingField = dataReader.GetString(3);
                                    instance.<MembershipLevel>k__BackingField = Invoke(((EnumToNumberConverter<MembershipLevel, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.MembershipLevel (MembershipLevel) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("MembershipLevel")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(4));
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<Region>k__BackingField = dataReader.GetString(6);
                                    instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<CustomerStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Customer.Status (CustomerStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(7));
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Customer | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Customer)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PhoneNumber instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PhoneNumber);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PhoneNumber.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PhoneNumber)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PhoneNumber Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.PhoneNumber")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new PhoneNumber(
                                    dataReader.GetString(9), 
                                    dataReader.GetString(10)
                                );
                            }
                        default: 
                            default(PhoneNumber)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                EmailAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(EmailAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: EmailAddress.CustomerId PK | Resolver: c => c.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (EmailAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: EmailAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("CustomerApi.Domain.ValueObjects.EmailAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                                return new EmailAddress(dataReader.GetString(11));
                            }
                        default: 
                            default(EmailAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, PhoneNumber>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.ContactNumber (PhoneNumber) ToDependent PhoneNumber | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("ContactNumber")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{10}, namelessParameter{11}) => 
                {
                    return namelessParameter{10}.<ContactNumber>k__BackingField = namelessParameter{11};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Customer, Customer, EmailAddress>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: Customer.Email (EmailAddress) ToDependent EmailAddress | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("CustomerApi.Domain.Entities.Customer").FindNavigation("Email")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{13}, namelessParameter{14}) => 
                {
                    return namelessParameter{13}.<Email>k__BackingField = namelessParameter{14};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: CustomerApi.Infrastructure.Persistence.Postgres.CustomerDb, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2026-02-06 15:11:12.192 +07:00 [DBG] Creating DbConnection.
2026-02-06 15:11:12.195 +07:00 [DBG] Created DbConnection. (1ms).
2026-02-06 15:11:12.197 +07:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 15:11:12.199 +07:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 15:11:12.201 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2026-02-06 15:11:12.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2026-02-06 15:11:12.204 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2026-02-06 15:11:12.209 +07:00 [DBG] Executing DbCommand [Parameters=[@__command_Request_Email_Value_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @__command_Request_Email_Value_0
LIMIT 1
2026-02-06 15:11:12.231 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__command_Request_Email_Value_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c."FirstName", c."LastName", c."MembershipLevel", c."Password", c."Region", c."Status", c."UpdatedAt", c."CountryCode", c."PhoneNumber", c."Email"
FROM "Customers" AS c
WHERE c."Email" = @__command_Request_Email_Value_0
LIMIT 1
2026-02-06 15:11:12.259 +07:00 [DBG] Context 'CustomerDb' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-06 15:11:12.293 +07:00 [DBG] The navigation 'Customer.ContactNumber' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-06 15:11:12.295 +07:00 [DBG] Context 'CustomerDb' started tracking 'PhoneNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-06 15:11:12.299 +07:00 [DBG] The navigation 'Customer.Email' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-06 15:11:12.300 +07:00 [DBG] Context 'CustomerDb' started tracking 'EmailAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2026-02-06 15:11:12.305 +07:00 [DBG] Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 15:11:12.308 +07:00 [DBG] A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 73ms reading results.
2026-02-06 15:11:12.310 +07:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 15:11:12.311 +07:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (0ms).
2026-02-06 15:11:12.335 +07:00 [INF] Setting HTTP status code 200.
2026-02-06 15:11:12.338 +07:00 [INF] Writing value of type 'LoginResponse' as Json.
2026-02-06 15:11:12.346 +07:00 [INF] Executed endpoint 'HTTP: POST /login'
2026-02-06 15:11:12.347 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:11:12.349 +07:00 [DBG] 'CustomerDb' disposed.
2026-02-06 15:11:12.352 +07:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2026-02-06 15:11:12.353 +07:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (1ms).
2026-02-06 15:11:12.353 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/login - 200 null application/json; charset=utf-8 1113.3077ms
2026-02-06 15:11:20.110 +07:00 [DBG] Server desktop-l31jdro:8196:a04120fc heartbeat successfully sent
2026-02-06 15:11:28.392 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/Customer/export-pdf - null null
2026-02-06 15:11:28.392 +07:00 [DBG] 2 candidate(s) found for the request path '/Customer/export-pdf'
2026-02-06 15:11:28.395 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/export-pdf' with route pattern '/Customer/export-pdf' is valid for the request path '/Customer/export-pdf'
2026-02-06 15:11:28.395 +07:00 [DBG] Endpoint 'HTTP: GET /Customer/{id}' with route pattern '/Customer/{id}' is valid for the request path '/Customer/export-pdf'
2026-02-06 15:11:28.395 +07:00 [DBG] Request matched endpoint 'HTTP: GET /Customer/export-pdf'
2026-02-06 15:11:28.421 +07:00 [DBG] Successfully validated the token.
2026-02-06 15:11:28.421 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2026-02-06 15:11:28.424 +07:00 [DBG] Authorization was successful.
2026-02-06 15:11:28.424 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2026-02-06 15:11:28.424 +07:00 [INF] Executing endpoint 'HTTP: GET /Customer/export-pdf'
2026-02-06 15:11:29.341 +07:00 [INF] Sending file with download name 'Customers.pdf'.
2026-02-06 15:11:29.343 +07:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2026-02-06 15:11:29.344 +07:00 [INF] Executed endpoint 'HTTP: GET /Customer/export-pdf'
2026-02-06 15:11:29.345 +07:00 [DBG] Connection id "0HNJ5ASUQDQ93" completed keep alive response.
2026-02-06 15:11:29.345 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/Customer/export-pdf - 200 83030 application/pdf 952.6206ms
2026-02-06 15:11:50.120 +07:00 [DBG] Server desktop-l31jdro:8196:a04120fc heartbeat successfully sent
